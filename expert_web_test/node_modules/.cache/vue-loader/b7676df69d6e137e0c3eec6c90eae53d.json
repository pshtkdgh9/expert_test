{"remainingRequest":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\src\\components\\Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\src\\components\\Search.vue","mtime":1666596276073},{"path":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662543709072},{"path":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\babel-loader\\lib\\index.js","mtime":1662543708310},{"path":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662543709072},{"path":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\vue-loader\\lib\\index.js","mtime":1662543737457}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBIaXN0b3J5IGZyb20gJy4vSGlzdG9yeS52dWUnDQovLyBpbXBvcnQgeyBtZGlBbHBoYUFDaXJjbGUgfSBmcm9tICdAbWRpL2pzJzsNCi8vIGltcG9ydCB7IG1kaUFscGhhS0NpcmNsZSB9IGZyb20gJ0BtZGkvanMnOw0KLy8gaW1wb3J0IFhMU1ggZnJvbSAneGxzeCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgSGlzdG9yeQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyBjcmF3bEJ0blRleHQgOiAn7IiY7KeRIOyalOyyrScsDQogICAgICAvLyBpc0NyYXdsIDogZmFsc2UsDQogICAgICAvLyBjcmF3bFN0YXR1cyA6ICfslYwg7IiYIOyXhuydjCcsDQogICAgICAvLyBlc3RpbWF0ZWRUaW1lIDogJycsDQogICAgICAvLyBjcmF3bFByb2dyZXNzIDogMCwNCiAgICAgIC8vIG51bUNvbXAgOiAwLA0KICAgICAgLy8gdG90YWwgOiAwLA0KICAgICAgLy8gZmlsZURpYWxvZyA6IGZhbHNlLA0KICAgICAgLy8gaW5zdENyYXdsZXJEaWFsb2cgOiBmYWxzZSwNCiAgICAgIC8vIG1lbnVzIDogWw0KICAgICAgLy8gICAiSUYgRmlsZSB1cGRhdGUiLCAiREJQaWEg7IaM7IaNIOyImOynkeq4sCJdLA0KICAgICAgLy8gICBmaWxlIDogeyBzY2kgOiBudWxsLCBrY2kgOiBudWxsfSwNCiAgICAgICAgeWxhYmVsIDogIiDrhYQg7J207ZuEIOuFvOusuCDsiJjsp5EiLA0KICAgICAgICB5ZWFycyA6IDUsDQogICAgICAgIHZhbGlkIDogdHJ1ZSwNCiAgICAgICAgY29tcDogJ0hpc3RvcnknLA0KICAgICAgICBzZWFyY2hEaWFsb2c6IGZhbHNlLA0KICAgICAgICBzaXRlRGlhbG9nOiBmYWxzZSwNCiAgICAgICAgdGVtcFNlbGVjdGVkIDogW10sDQogICAgICAgIHNlbGVjdGVkIDogW10sDQogICAgICAgIHNpdGVzOiBbDQogICAgICAgICAgeydzaXRlJyA6ICdOVElTJywgJ2NhbkNyYXdsJyA6IHRydWUsICdmaWx0ZXInIDogdHJ1ZX0sDQogICAgICAgICAgeydzaXRlJyA6ICdTQ0lFTkNFT04nLCAnY2FuQ3Jhd2wnIDogdHJ1ZSAsICdmaWx0ZXInIDogdHJ1ZX0sDQogICAgICAgICAgeydzaXRlJyA6ICdEQlBJQScsICdjYW5DcmF3bCcgOiB0cnVlICwgJ2ZpbHRlcicgOiAgdHJ1ZX0sDQogICAgICAgICAgeydzaXRlJyA6ICdLQ0knLCAnY2FuQ3Jhd2wnIDogdHJ1ZSwgJ2ZpbHRlcicgOiAgdHJ1ZSB9LA0KICAgICAgICAgIHsnc2l0ZScgOiAnU0NPUFVTJywgJ2NhbkNyYXdsJyA6IHRydWUsICdmaWx0ZXInIDogdHJ1ZSwgJ2ZhYicgOiBmYWxzZX0sDQogICAgICAgICAgeydzaXRlJyA6ICdXT1MnLCAnY2FuQ3Jhd2wnIDogdHJ1ZSwgJ2ZpbHRlcicgOiB0cnVlLCAnZmFiJyA6IGZhbHNlfQ0KDQogICAgICAgIF0sDQogICAgICAgIG9wZXJhdGlvbnM6IFsnQU5EJywgJ09SJywgJ05PVCddLA0KICAgICAgICBrZXl3b3JkcyA6ICIiLA0KICAgICAgICBzZWFyY2hlczogWw0KDQogICAgICAgIF0sDQogICAgICAgIG51bVJ1bGVzIDogWw0KICAgICAgICAgIHYgPT4gISF2IHx8ICdTZWFyY2ggeWVhciBpcyByZXF1aXJlZCcsDQogICAgICAgICAgdiA9PiB2ID4gMCB8fCAnUG9zaXRpdmUgbnVtYmVyIG9ubHknDQogICAgICAgIF0sDQoNCiAgICAgICAgc2VhcmNoV29yZFJ1bGVzIDogWw0KICAgICAgICAgICAgdiA9PiB0aGlzLmNoZWNrU3BlY2lmaWNLZXkodikgfHwgJ1NwZWNpYWwgY2hhcmFjdGVycyBhcmUgbm90IGF2YWlsYWJsZScNCiAgICAgICAgXSwNCiAgICAgICAgd29yZFJ1bGVzIDogWw0KICAgICAgICAgIHYgPT4gISF2IHx8ICdTZWFyY2gga2V5d29yZCBpcyByZXF1aXJlZCcsDQogICAgICAgICAgdiA9PiB0aGlzLmNoZWNrRHVwbGljYXRpb24odikgfHwgJ1NhbWUga2V5d29yZCBpcyBub3QgYXZhaWxhYmxlJywNCiAgICAgICAgICB2ID0+IHRoaXMuY2hlY2tTcGVjaWZpY0tleSh2KSB8fCAnU3BlY2lhbCBjaGFyYWN0ZXJzIGFyZSBub3QgYXZhaWxhYmxlJw0KICAgICAgICBdLA0KICAgICAgICBkdXBNc2cgOiAiIiwNCiAgICAgICAgZHVwRGlhbG9nIDogZmFsc2UsDQogICAgICAgIHRpbWVyIDogbnVsbCwNCiAgICAgICAgLy8gZmlsdGVycyA6IHsnV09TJyA6IHsiZmlsdGVyIiA6ICJBTEwifSwgJ1NDT1BVUycgOiB7ImZpbHRlciIgOiAiQUxMIn19LA0KICAgICAgICAvLyBDRmlsdGVycyA6IFsNCiAgICAgICAgLy8gICB7DQogICAgICAgIC8vICAgICBpY29uIDogbWRpQWxwaGFBQ2lyY2xlLA0KICAgICAgICAvLyAgICAgbmFtZSA6ICdBTEwnDQogICAgICAgIC8vICAgfSwNCiAgICAgICAgLy8gICB7DQogICAgICAgIC8vICAgICBpY29uIDogbWRpQWxwaGFLQ2lyY2xlLA0KICAgICAgICAvLyAgICAgbmFtZSA6ICdLT1JFQScNCiAgICAgICAgLy8gICB9DQogICAgICAgIC8vIF0sDQoNCiAgICAgICAgZmlsdGVyTW9kZWwgOiAxLA0KICAgICAgICBmaWx0ZXJNc2cgOiB7IHRydWUgOiAiQUxMIiAsIGZhbHNlIDogJ0tvcmVhJ30NCg0KDQogICAgICB9DQogICAgfSwgLy9kYXRhKCkgRW5kDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgIHNlbGVjdEFsbDogew0KICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICByZXR1cm4gdGhpcy5zaXRlcyA/IHRoaXMuc2VsZWN0ZWQubGVuZ3RoID09PSB0aGlzLnNpdGVzLmZpbHRlcihzaXRlPT5zaXRlLmNhbkNyYXdsKS5sZW5ndGggOiBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdWQUxVRScsIHZhbHVlKTsNCiAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSBbXTsNCiAgICAgICAgICBpZiAodmFsdWUpIHsNCiAgICAgICAgICAgIHNlbGVjdGVkID0gdGhpcy5zaXRlcy5maWx0ZXIoc2l0ZT0+c2l0ZS5jYW5DcmF3bCk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZDsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBjcmVhdGVkKCkgew0KICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuc2l0ZXMuZmlsdGVyKHNpdGU9PnNpdGUuY2FuQ3Jhd2wpOw0KDQogICAgICAvLyBjb25zb2xlLmxvZygiY3JlYXRlZCIpOw0KICAgICAgdGhpcy5zdGFydEludGVydmFsKCk7DQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldElzTWluaSIsIGZhbHNlKTsNCg0KDQogICAgfSwNCiAgICBkZXN0cm95ZWQoKXsNCiAgICAgIC8vIGNvbnNvbGUubG9nKCJkZXN0Iik7DQogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOw0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgb25GaWx0ZXJDbGljayhzaXRlKXsNCiAgICAgICAgY29uc29sZS5sb2coJ1NJVEUnLCBzaXRlKTsNCiAgICAgICAgdGhpcy5zaGVldCA9IGZhbHNlOw0KDQogICAgICB9LA0KICAgICAgY2hlY2tTcGVjaWZpY0tleShzdHIpIHsNCiAgICAgICAgdmFyIHNwZWNpYWxLZXkgPSAiW34jQCUkXiYqPXt9OjssXFxbXFxdLjw+Lz9+I++/peKApuKApiYqPz97feOAkOOAke+8m++8muKAneKAnOOAgu+8jOOAge+8n10iOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGlmIChzcGVjaWFsS2V5LmluZGV4T2Yoc3RyLnN1YnN0cihpLCAxKSkgIT0gLTEpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9LA0KICAgICAgc3RhcnRJbnRlcnZhbCgpew0KDQogICAgICAgIC8vIGNvbnN0IGdldEhpc3RvcnkgPSAodCkgPT57DQogICAgICAgIC8vICAgdC4kc3RvcmUuZGlzcGF0Y2goJ2dldEhpc3RvcmllcycpOw0KICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCJnZXQgSGlzdG9yeSIpOw0KICAgICAgICAvLyB9DQoNCiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHsNCg0KICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0SGlzdG9yaWVzJywwKTsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coImdldCBIaXN0b3J5Iik7DQogICAgICAgICAgICB9LCAxMDAwMCk7DQogICAgICB9LA0KICAgICAgdHJhbnNsdGVLZXl3b3Jkcygpew0KDQogICAgICAgIC8vIHZhciBrZXl3b3JkcyA9IHRoaXMua2V5d29yZHMNCiAgICAgICAgLy8gdmFyIHN0YWNrID0gW10NCiAgICAgICAgLy8gbGV0IHdvcmQgPSAiIg0KICAgICAgICAvLyBsZXQgdHlwZSA9ICIiDQogICAgICAgIC8vIHZhciB3b3JkcyA9IGtleXdvcmRzLnNwbGl0KCIiKTsNCiAgICAgICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAvLyAgIGlmICh3b3Jkc1tpXS5jaGFyQXQoMCkgPT09ICJ8IiAmJiB3b3Jkc1tpXS5pbmNsdWRlcygiKCIpKXsNCiAgICAgICAgLy8gICAgIHR5cGUgPSJPUiI7DQogICAgICAgIC8vICAgICB0ZW1wKz13b3Jkc1tpXQ0KICAgICAgICAvLyAgIH0NCiAgICAgICAgLy8gICBlbHNlIGlmKHdvcmQuY2hhckF0KDApID09PSAiISImJiB3b3JkW2ldLmluY2x1ZGVzKCIoIikpew0KICAgICAgICAvLyAgICAgdHlwZSA9Ik5PVCI7DQogICAgICAgIC8vICAgICB0ZW1wKz13b3Jkc1tpXQ0KICAgICAgICAvLyAgIH0NCiAgICAgICAgLy8NCiAgICAgICAgLy8gICAgIGlmKHdvcmRzW2ldLmNoYXJBdCgwKSA9PT0gInwiICYmICF3b3JkW2ldLmluY2x1ZGVzKCIoIikpew0KICAgICAgICAvLyAgICAgdHlwZSA9ICJPUiI7DQogICAgICAgIC8vICAgICB3b3Jkc1tpXSA9IHdvcmRzW2ldLnJlcGxhY2UoL1x8L2csICIiKTsNCiAgICAgICAgLy8gICAgIHRlbXArPXdvcmRzW2ldDQogICAgICAgIC8vICAgICB9DQogICAgICAgIC8vICAgICBlbHNlIGlmKHdvcmQuY2hhckF0KDApID09PSAiISImJiAhd29yZFtpXS5pbmNsdWRlcygiKCIpKXsNCiAgICAgICAgLy8NCiAgICAgICAgLy8gICAgICAgdHlwZSA9ICJOT1QiOw0KICAgICAgICAvLyAgICAgICB3b3Jkc1tpXSA9IHdvcmRzW2ldLnJlcGxhY2UoLyEvZywgIiIpOw0KICAgICAgICAvLyAgICAgICB0ZW1wKz13b3Jkc1tpXQ0KICAgICAgICAvLyAgICAgfQ0KICAgICAgICAvLyAgICAgZWxzZXsNCiAgICAgICAgLy8gICAgIHRlbXArPXdvcmRzW2ldDQogICAgICAgIC8vDQogICAgICAgIC8vICAgfQ0KICAgICAgICAvLyAgICAgdGhpcy5zZWFyY2hlcy5wdXNoKHt3b3Jkc1tpXSwgdHlwZX0pDQogICAgICAgIC8vICAgICB3b3JkID0gIiI7DQogICAgICAgIC8vICAgICB0eXBlID0gIiI7DQogICAgICAgIC8vICAgICBzdGFjay5hcHBlbmQoIigiKTsNCiAgICAgICAgLy8gICAgIHdvcmQrPWk7DQogICAgICAgIC8vICAgfQ0KICAgICAgICAvLyAgIGVsc2UgaWYoa2V5d29yZHNbaV0gPT0gIikiKXsNCiAgICAgICAgLy8gICAgIHN0YWNrLnBvcCgpOw0KICAgICAgICAvLyAgICAgd29yZCs9aTsNCiAgICAgICAgLy8gICAgIHRoaXMuc2VhcmNoZXMucHVzaCh7d29yZCwgdHlwZX0pDQogICAgICAgIC8vICAgICB3b3JkID0gIiI7DQogICAgICAgIC8vICAgfQ0KICAgICAgICAvLyAgIGVsc2V7DQogICAgICAgIC8vICAgICB3b3JkICs9aTsNCiAgICAgICAgLy8gICB9DQogICAgICAgIC8vIH0NCiAgICAgICAgdGhpcy5zZWFyY2hlcyA9IFtdDQogICAgICAgIHRoaXMua2V5d29yZHMudHJpbSgpLnNwbGl0KCcgJykuZm9yRWFjaCh3b3JkID0+IHsNCg0KICAgICAgICAgIGlmKHdvcmQubGVuZ3RoICE9IDApew0KICAgICAgICAgICAgbGV0IHR5cGUgPSAiIg0KICAgICAgICAgICAgLy8gaWYod29yZC5jaGFyQXQoMCkgPT09ICJcIiIgJiYgd29yZC5jaGFyQXQod29yZC5sZW5ndGgtMSkgPT09ICJcIiIpDQogICAgICAgICAgICBpZih3b3JkLmNoYXJBdCgwKSA9PT0gInwiKXsNCiAgICAgICAgICAgIHR5cGUgPSAiT1IiOw0KICAgICAgICAgICAgd29yZCA9IHdvcmQucmVwbGFjZSgvXHwvZywgIiIpOw0KICAgICAgICAgICAgd29yZCA9IHRoaXMuaW5zZXJ0YnJhY2tldCh3b3JkKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJvciB3b3JkIix3b3JkKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYod29yZC5jaGFyQXQoMCkgPT09ICIhIil7DQoNCiAgICAgICAgICAgICAgdHlwZSA9ICJOT1QiOw0KICAgICAgICAgICAgICB3b3JkID0gd29yZC5yZXBsYWNlKC8hL2csICIiKTsNCiAgICAgICAgICAgICAgd29yZCA9IHRoaXMuaW5zZXJ0YnJhY2tldCh3b3JkKTsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coIm5vdCB3b3JkIix3b3JkKTsNCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgdHlwZSA9ICJBTkQiOw0KICAgICAgICAgICAgd29yZCA9IHRoaXMuaW5zZXJ0YnJhY2tldCh3b3JkKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhbmQgd29yZCIsd29yZCk7DQoNCg0KICAgICAgICAgICAgdGhpcy5zZWFyY2hlcy5wdXNoKHt3b3JkLCB0eXBlfSkNCiAgICAgICAgICAgIC8vdGhpcy5zZWFyY2hlcy5wdXNoKHt3b3JkOiB3b3JkLnJlcGxhY2UoLyEvZywgIiIpLCB0eXBlIDogdHlwZX0pDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VhcmNoZXMubGVuZ3RoOyBpKyspew0KICAgICAgICAvLyAgIGlmICh0aGlzLnNlYXJjaGVzW2ldLndvcmQuaW5jbHVkZXMoIigiKSl7DQogICAgICAgIC8vICAgICB0ZW1wLnB1c2goaSkNCiAgICAgICAgLy8gICB9DQogICAgICAgIC8vICAgZWxzZSBpZiAodGVtcC5sZW5ndGggIT0gMCl7DQogICAgICAgIC8vICAgICB0ZW1wLnB1c2goaSkNCiAgICAgICAgLy8gICB9DQogICAgICAgIC8vICAgZWxzZSBpZiAodGhpcy5zZWFyY2hlc1tpXS53b3JkLmluY2x1ZGVzKCIpIikpew0KICAgICAgICAvLyAgICAgdmFyIHRlbXBfc3RyaW5nID0gJyc7DQogICAgICAgIC8vICAgICBmb3IgKHZhciBqID0gMDsgdGVtcC5sZW5ndGg7IGorKyl7DQogICAgICAgIC8vICAgICAgIHRlbXBfc3RyaW5nICs9IHRoaXMuc2VhcmNoZXNbdGVtcFtqXV0ud29yZA0KICAgICAgICAvLyAgICAgfQ0KICAgICAgICAvLyAgICAgdGhpcy5zZWFyY2hlc1t0ZW1wWzBdXSA9IHt0ZW1wX3N0cmluZywgdGhpcy5zZWFyY2hlc1t0ZW1wWzBdLnR5cGVdfQ0KICAgICAgICAvLyAgIH0NCiAgICAgICAgLy8gfQ0KDQogICAgICB9LA0KICAgICAgc2VhcmNoKCl7DQogICAgICAgIHRoaXMudHJhbnNsdGVLZXl3b3JkcygpOw0KICAgICAgICB0aGlzLnNldEtleXdvcmRzKCk7DQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdyZXF1ZXN0U2VhcmNoJywge3NlYXJjaGVzOiB0aGlzLnNlYXJjaGVzLCBzaXRlcyA6IHRoaXMuc2VsZWN0ZWQsIHllYXJzIDogdGhpcy55ZWFyc30pDQogICAgICB9LA0KICAgICAgb25TZWFyY2goKXsNCiAgICAgICAgaWYodGhpcy5rZXl3b3Jkcy50cmltKCkubGVuZ3RoID4gMCkgew0KICAgICAgICAgIGlmICghdGhpcy5jaGVja1NwZWNpZmljS2V5KHRoaXMua2V5d29yZHMudHJpbSgpKSkNCiAgICAgICAgICB7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3Nob3dTbmFjaycsICLtirnsiJgg66y47J6Q66W8IOyeheugpe2VoCDsiJgg7JeG7Iq164uI64ukLiIpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tzaXRlcygpKXsNCiAgICAgICAgICAgIGlmKHRoaXMuY2hlY2tLb3IodGhpcy5rZXl3b3Jkcy50cmltKCkpKXsNCiAgICAgICAgICAgICAgLy8gdGhpcy4kc3RvcmUuY29tbWl0KCdzaG93U25hY2snLCAi7ZW07Jm4IOyCrOydtO2KuOuKlCDtlZzquIAg6rKA7IOJ7J20IOyngOybkCDrkJjsp4Ag7JWK7Iq164uI64ukLiIpOw0KICAgICAgICAgICAgICB0aGlzLnJlbW92ZUVuc2l0ZXMoKTsNCiAgICAgICAgICAgICAgICBpZih0aGlzLmNoZWNrRHVwbGljYXRpb25IaXN0b3JpZXMoKSkNCiAgICAgICAgICAgICAgICAgIHJldHVybjsNCg0KDQogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2goKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICBpZih0aGlzLmNoZWNrRHVwbGljYXRpb25IaXN0b3JpZXMoKSkNCiAgICAgICAgICAgICAgICByZXR1cm47DQoNCg0KICAgICAgICAgICAgICB0aGlzLnNlYXJjaCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgaWYodGhpcy5jaGVja0R1cGxpY2F0aW9uSGlzdG9yaWVzKCkpDQogICAgICAgICAgICAgICByZXR1cm47DQoNCg0KICAgICAgICAgICAgIHRoaXMuc2VhcmNoKCk7DQogICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3Nob3dTbmFjaycsICLtgqTsm4zrk5zrpbwg7J6F66Cl7ZW07KO87IS47JqUIikNCiAgICAgICAgfQ0KDQoNCiAgICAgIH0sDQogICAgICByZW1vdmVLZXl3b3JkKGlkeCl7DQogICAgICAgIHRoaXMuc2VhcmNoZXMuc3BsaWNlKGlkeCwgMSkNCiAgICAgIH0sDQogICAgICBpbnNlcnRicmFja2V0KHdvcmQpew0KICAgICAgICB3b3JkID0gd29yZC5yZXBsYWNlKC9cKC9nLGAnKCdgKTsNCiAgICAgICAgd29yZCA9IHdvcmQucmVwbGFjZSgvXCkvZyxgJyknYCk7DQogICAgICAgIHdvcmQgPSB3b3JkLnJlcGxhY2UoLycnL2csYCdgKTsNCiAgICAgICAgY29uc29sZS5sb2coIndvcmQiLHdvcmQpDQogICAgICAgIHJldHVybiB3b3JkDQogICAgICB9LA0KICAgICAgc2V0S2V5d29yZHMoKSB7DQogICAgICAgIGxldCBydHYgPSAnJw0KICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuc2VhcmNoZXMubGVuZ3RoIC0gMQ0KICAgICAgICB0aGlzLnNlYXJjaGVzLmZvckVhY2goKHcsIGlkeCkgPT4gew0KICAgICAgICAgIC8vIGxldCB0eXBlID0gIiINCiAgICAgICAgICBzd2l0Y2ggKHRoaXMub3BlcmF0aW9ucy5pbmRleE9mKHcudHlwZSkpIHsNCiAgICAgICAgICAgIGNhc2UgMDoNCiAgICAgICAgICAgIHJ0diArPSB3LndvcmQNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlIDE6DQogICAgICAgICAgICBydHYgKz0gJ3wnK3cud29yZA0KICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgMjoNCiAgICAgICAgICAgIHJ0diArPSAnIScgKyB3LndvcmQNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAvLyBjYXNlIDM6DQogICAgICAgICAgICAvLyBydHYgKz0gJygnICsgdy53b3JkDQogICAgICAgICAgICAvLyBicmVhaw0KICAgICAgICAgICAgLy8gY2FzZSA0Og0KICAgICAgICAgICAgLy8gcnR2ICs9IHcud29yZCArICIpIg0KICAgICAgICAgICAgLy8gYnJlYWsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHNpemUgIT0gaWR4KSBydHYgKz0gJyAnDQogICAgICAgIH0pDQogICAgICAgIC8vIHJ0diA9IHJ0di5yZXBsYWNlKC9cKC9nLGAnKCdgKQ0KICAgICAgICAvLyBydHYgPSBydHYucmVwbGFjZSgvXCkvZyxgJyknYCkNCiAgICAgICAgY29uc29sZS5sb2coInJ0diIscnR2KQ0KICAgICAgICB0aGlzLmtleXdvcmRzID0gcnR2DQogICAgICAgIHRoaXMuc2VhcmNoRGlhbG9nID0gZmFsc2UNCiAgICAgIH0sDQogICAgICBvcGVuRGV0YWlsU2VhcmNoKCkNCiAgICAgIHsNCiAgICAgICAgaWYodGhpcy5rZXl3b3Jkcy50cmltKCkubGVuZ3RoID4gMCl7DQogICAgICAgICAgdGhpcy50cmFuc2x0ZUtleXdvcmRzKCkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnNlYXJjaERpYWxvZyA9IHRydWUNCiAgICAgIH0sDQogICAgICBkdXBEaWFsb2dDbGljayhpc1NlYXJjaCl7DQogICAgICAgIHRoaXMuZHVwRGlhbG9nID0gZmFsc2U7DQogICAgICAgIGlmKGlzU2VhcmNoKQ0KICAgICAgICB0aGlzLnNlYXJjaCgpOw0KICAgICAgfSwNCiAgICAgIGNoZWNrRHVwbGljYXRpb25IaXN0b3JpZXMoKXsNCiAgICAgICAgbGV0IG51bVdvcmRzID0gMDsNCiAgICAgICAgbGV0IHRlbXBDaGVjayA9IHt9Ow0KICAgICAgICB0aGlzLmtleXdvcmRzLnRyaW0oKS5zcGxpdCgnICcpLmZvckVhY2god29yZCA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coJ1dPUkQnLCB3b3JkKTsNCiAgICAgICAgICBudW1Xb3JkcysrOw0KICAgICAgICAgIGxldCBoaXN0b3JpZXMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5oaXN0b3JpZXM7DQoNCg0KICAgICAgICAgIGhpc3RvcmllcyA9IGhpc3Rvcmllcy5maWx0ZXIoeCA9PiB4LnF1ZXJ5X2tleXdvcmQuc3BsaXQoJyAnKS5maWx0ZXIoaFdvcmQ9PiBoV29yZCA9PT0gd29yZCkubGVuZ3RoID4gMCkNCiAgICAgICAgICBjb25zb2xlLmxvZygnSElTVE9SSUVTJywgaGlzdG9yaWVzKTsNCiAgICAgICAgICBpZihoaXN0b3JpZXMubGVuZ3RoID4gMCkNCiAgICAgICAgICB7DQogICAgICAgICAgICBoaXN0b3JpZXMuZm9yRWFjaChoaXN0b3J5ID0+IHsNCiAgICAgICAgICAgICAgaWYodGVtcENoZWNrW2hpc3RvcnkuX2lkXSA9PT0gdW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICB0ZW1wQ2hlY2tbaGlzdG9yeS5faWRdID0ge2NvdW50IDogMSwgdGltZSA6IGhpc3RvcnkucXVlcnlfdGltZSwgbnVtV29yZHMgOiBoaXN0b3J5LnF1ZXJ5X2tleXdvcmQuc3BsaXQoJyAnKS5sZW5ndGh9Ow0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgdGVtcENoZWNrW2hpc3RvcnkuX2lkXS5jb3VudCsrOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIGZvciggbGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0ZW1wQ2hlY2spKXsNCiAgICAgICAgICBpZih2YWx1ZS5jb3VudCA9PT0gbnVtV29yZHMgJiYgdmFsdWUubnVtV29yZHMgPT0gbnVtV29yZHMpew0KICAgICAgICAgICAgdGhpcy5kdXBNc2cgPSAi7KSR67O165CcIOqygOyDiSDsnbTroKXsnbQg7J6I7Iq164uI64ukLiA8YnIgLz4gKOqygOyDiSDsi5zqsIQgOiAiK3ZhbHVlLnRpbWUgKyAiKTxiciAvPiDqs4Tsho0g6rKA7IOJIO2VmOyLnOqyoOyKteuLiOq5jD8iOw0KICAgICAgICAgICAgdGhpcy5kdXBEaWFsb2cgPSB0cnVlOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ0tFWScsIGtleSk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAvLyB0ZW1wQ2hlY2ssa2V5d3MuDQogICAgICAgIC8vdGhpcy4kc3RvcmUuY29tbWl0KCdzaG93U25hY2snLCAi7YKk7JuM65Oc66W8IOyeheugpe2VtOyjvOyEuOyalCIpDQogICAgICB9LA0KICAgICAgY2hlY2tEdXBsaWNhdGlvbih3b3JkKXsNCiAgICAgICAgaWYodGhpcy5zZWFyY2hlcy5maWx0ZXIodyA9PiB3LndvcmQgPT09IHdvcmQpLmxlbmd0aCA+IDEpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICBlbHNlDQogICAgICAgIHJldHVybiB0cnVlDQogICAgICB9LA0KICAgICAgYWRkU2VhcmNoSXRlbSgpew0KICAgICAgICB0aGlzLnNlYXJjaGVzLnB1c2goe3dvcmQ6IiIsIHR5cGU6IkFORCJ9KQ0KICAgICAgfSwNCiAgICAgIG9wZW5TaXRlRGlhbG9nKCkgew0KICAgICAgICAvL3N0b3JlIHNpdGUgZmxhZ3MgdGVtcG9yYXJ5DQogICAgICAgIHRoaXMuc2l0ZURpYWxvZyA9IHRydWU7DQoNCiAgICAgICAgdGhpcy50ZW1wU2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkOw0KICAgICAgICAvLyBmb3IgKGxldCBzaXRlIGluIHRoaXMuc2l0ZXMpIHsNCiAgICAgICAgLy8gICB0aGlzLnNpdGVzW3NpdGVdID0gdGhpc1tzaXRlXQ0KICAgICAgICAvLyB9DQogICAgICB9LA0KICAgICAgY2xvc2VTaXRlRGlhbG9nKCkgew0KICAgICAgICAvL3Jlc3RvcmUgc2l0ZSBmbGFncw0KICAgICAgICB0aGlzLnNpdGVEaWFsb2cgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMudGVtcFNlbGVjdGVkOw0KICAgICAgICAvLyBmb3IgKGxldCBzaXRlIGluIHRoaXMuc2l0ZXMpIHsNCiAgICAgICAgLy8gICB0aGlzW3NpdGVdID0gdGhpcy5zaXRlc1tzaXRlXQ0KICAgICAgICAvLyB9DQogICAgICB9LA0KICAgICAgY2hlY2tzaXRlcygpew0KICAgICAgICBjb25zb2xlLmxvZygiYmVmb3JlIHNpdGVzIDogIix0aGlzLnNlbGVjdGVkKQ0KICAgICAgICBmb3IgKGxldCBzaXRlIGluIHRoaXMuc2VsZWN0ZWQpIHsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygic2l0ZToiLHRoaXMuc2VsZWN0ZWRbc2l0ZV0uc2l0ZSkNCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRbc2l0ZV0uc2l0ZSA9PSAiU0NPUFVTIiB8fCB0aGlzLnNlbGVjdGVkW3NpdGVdLnNpdGUgPT0gIldPUyIpew0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZQ0KICAgIH0sDQogICAgY2hlY2tLb3Ioc3RyKXsNCiAgICAgY29uc3QgcmVnRXhwID0gL1vjhLEt44WO44WPLeOFo+qwgC3tnqNdL2c7DQogICAgIGlmKHJlZ0V4cC50ZXN0KHN0cikpew0KICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgIH1lbHNlew0KICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICB9DQogfSwNCiAgICByZW1vdmVFbnNpdGVzKCl7DQogICAgICBmb3IgKGxldCBzaXRlID0gMDsgc2l0ZTwgdGhpcy5zZWxlY3RlZC5sZW5ndGg7IHNpdGUrKykgew0KICAgICAgICAvL2NvbnNvbGUubG9nKCJzaXRlOiIsdGhpcy5zZWxlY3RlZFtzaXRlXS5zaXRlKQ0KICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFtzaXRlXS5zaXRlID09ICJTQ09QVVMifHx0aGlzLnNlbGVjdGVkW3NpdGVdLnNpdGUgPT0gIldPUyIpew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuc3BsaWNlKHNpdGUsMSk7DQogICAgICAgICAgc2l0ZS0tOw0KICAgICAgICAgIGNvbnNvbGUubG9nKCJhZnRlciBzaXRlOiIsdGhpcy5zZWxlY3RlZCkNCiAgICAgIH0NCiAgICB9DQoNCiAgICB9LA0KDQogICAgfQ0KICB9DQoNCg0KDQoNCiAg"},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"Search.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n<!-- <div>\r\n\r\n  asd\r\n</div> -->\r\n  <v-container fluid align-start>\r\n\r\n<v-row align=\"center\" justify=\"center\">\r\n\r\n  <v-col cols=\"20\" md=\"12\">\r\n    <v-card>\r\n      <v-card-text>\r\n        <v-row align=\"center\" justify=\"center\">\r\n          <v-col cols=\"12\" md=\"6\" class=\"pl-8\">\r\n            <v-form v-model=\"valid\">\r\n\r\n            <v-text-field class=\"mx-4\" flat hide-details\r\n            label=\"Search\"\r\n            prepend-inner-icon=\"search\"\r\n            v-model=\"keywords\"\r\n            @keydown.enter=\"onSearch\"\r\n            :rules=\"searchWordRules\"\r\n            solo-inverted></v-text-field>\r\n            </v-form>\r\n          </v-col>\r\n          <v-col cols=\"4\" md=\"5\" class=\"mr-8\">\r\n\r\n            <v-btn class=\"mx-4\" color=\"success\" :disabled=\"!valid\"  @click=\"onSearch()\">검색</v-btn>\r\n\r\n            <v-btn class=\"mx-4\" color=\"primary\" @click=\"openDetailSearch()\">상세 검색</v-btn>\r\n\r\n            <v-dialog v-model=\"searchDialog\" persistent max-width=\"800px\">\r\n              <v-card>\r\n                <v-card-title>\r\n                  <span class=\"headline\">검색 상세 설정</span>\r\n                </v-card-title>\r\n                <v-list three-line subheader>\r\n                  <v-subheader>Select Sites</v-subheader>\r\n                  <v-list-item>\r\n                    <v-list-item-action>\r\n                      <v-checkbox type=\"checkbox\" v-model.lazy=\"selectAll\" label=\"모든 사이트\"></v-checkbox>\r\n\r\n                    </v-list-item-action>\r\n                  </v-list-item>\r\n                  <v-divider></v-divider>\r\n                  <v-list-item>\r\n                  <v-chip v-for=\"(site, idx) in sites\" :key=\"idx\"\r\n                  class=\"pa-1\"\r\n                  color=\"white\"\r\n                  text-color=\"black\"\r\n                  x-large\r\n                  >\r\n                    <!-- <v-checkbox v-model=\"selected\" :label=\"site.site\" :value=\"site\" :disabled=\"!site.canCrawl\"></v-checkbox> -->\r\n                    <v-checkbox v-model=\"selected\" :label=\"site.site\" :value=\"site\" ></v-checkbox>\r\n                    <v-speed-dial\r\n                    v-show=\"(site.site === 'WOS' && site.canCrawl ) || (site.site === 'SCOPUS' && site.canCrawl )\"\r\n                    v-model=\"site.fab\"\r\n\r\n                   direction=\"bottom\"\r\n                   :open-on-hover=\"true\"\r\n                   transition=\"slide-x-transition\"\r\n                  >\r\n                  <template v-slot:activator>\r\n                   <v-btn\r\n                     color=\"blue darken-2\"\r\n                     dark\r\n                     fab\r\n                     x-small\r\n                     class=\"pa-5\"\r\n                     @click=\"hidden  = !hidden,site.filter = !site.filter\"\r\n                     >\r\n                     {{hidden ? filterMsg[site.filter] : filterMsg[site.filter] }}\r\n                   </v-btn>\r\n                  </template>\r\n                  <!-- <v-btn\r\n                   fab\r\n                   dark\r\n                   x-small\r\n                   color=\"green\"\r\n                   class=\"pa-5\"\r\n                   @click=\"site.filter=true\"\r\n                  >\r\n                  ALL\r\n                  </v-btn>\r\n                  <v-btn\r\n                   fab\r\n                   dark\r\n                   x-small\r\n                   color=\"indigo\"\r\n                   class=\"pa-5\"\r\n                   @click=\"site.filter=false\"\r\n                  >\r\n                   Korea\r\n                  </v-btn> -->\r\n                  </v-speed-dial>\r\n                  </v-chip>\r\n                </v-list-item>\r\n                </v-list>\r\n                <v-form v-model=\"valid\">\r\n                  <v-card-text>\r\n\r\n                    <v-container>\r\n\r\n                      <template v-bind:props=\"searches\">\r\n                        <v-text-field :label=\"new Date().getFullYear()-years+ylabel\" required v-model=\"years\" :rules=\"numRules\" min=\"1\" max=\"30\" type=\"number\"></v-text-field>\r\n                        <v-row v-for=\"(w, i) in searches\" :key=\"i\">\r\n                          <v-col cols=\"10\" sm=\"10\" md=\"8\">\r\n                            <v-text-field label=\"검색어\" required v-model=\"w.word\" :rules=\"wordRules\"></v-text-field>\r\n                          </v-col>\r\n                          <v-col cols=\"2\" sm=\"2\" md=\"2\">\r\n                            <v-select label=\"연산\" :items=\"operations\" v-model=\"w.type\"></v-select>\r\n                          </v-col>\r\n                          <v-col cols=\"2\" sm=\"2\" md=\"2\">\r\n                            <v-btn  @click=\"removeKeyword(i)\">삭제\r\n                            </v-btn>\r\n                          </v-col>\r\n                        </v-row>\r\n                      </template>\r\n                      <v-row>\r\n                        <v-col cols=\"12\">\r\n                          <v-btn class=\"mx-2\" fab color=\"white\" @click=\"addSearchItem()\">\r\n                            <v-icon dark>add</v-icon>\r\n                          </v-btn>\r\n                        </v-col>\r\n                      </v-row>\r\n\r\n                    </v-container>\r\n                  </v-card-text>\r\n                  <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"blue darken-1\" text @click=\"setKeywords()\" :disabled=\"!valid\">Save</v-btn>\r\n                  </v-card-actions>\r\n                </v-form>\r\n              </v-card>\r\n            </v-dialog>\r\n          </v-col>\r\n        </v-row>\r\n\r\n        <v-row align=\"center\" justify=\"center\">\r\n\r\n          <v-col cols=\"20\" md=\"11\">\r\n            <v-spacer />\r\n            <v-card color=\"#B3D4FB\">\r\n              <component :is=\"comp\" :lgSize=\"3\" :itemsPerPage=\"10\" ></component>\r\n            </v-card>\r\n          </v-col>\r\n\r\n        </v-row>\r\n\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-col>\r\n</v-row>\r\n\r\n<v-dialog\r\nv-model=\"dupDialog\"\r\nmax-width=\"290\"\r\n>\r\n<v-card>\r\n  <v-card-title class=\"headline\">중복 이력 확인</v-card-title>\r\n\r\n  <v-card-text v-html=\"dupMsg\">\r\n\r\n  </v-card-text>\r\n\r\n  <v-card-actions>\r\n    <v-spacer></v-spacer>\r\n\r\n    <v-btn\r\n    color=\"green darken-1\"\r\n    text\r\n    @click=\"dupDialogClick(true)\"\r\n    >\r\n    Yes\r\n  </v-btn>\r\n\r\n  <v-btn\r\n  color=\"green darken-1\"\r\n  text\r\n  @click=\"dupDialogClick(false)\"\r\n  >\r\n  No\r\n</v-btn>\r\n</v-card-actions>\r\n</v-card>\r\n</v-dialog>\r\n\r\n</v-container>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport History from './History.vue'\r\n// import { mdiAlphaACircle } from '@mdi/js';\r\n// import { mdiAlphaKCircle } from '@mdi/js';\r\n// import XLSX from 'xlsx'\r\n\r\nexport default {\r\n  components: {\r\n    History\r\n  },\r\n  data() {\r\n    return {\r\n      // crawlBtnText : '수집 요청',\r\n      // isCrawl : false,\r\n      // crawlStatus : '알 수 없음',\r\n      // estimatedTime : '',\r\n      // crawlProgress : 0,\r\n      // numComp : 0,\r\n      // total : 0,\r\n      // fileDialog : false,\r\n      // instCrawlerDialog : false,\r\n      // menus : [\r\n      //   \"IF File update\", \"DBPia 소속 수집기\"],\r\n      //   file : { sci : null, kci : null},\r\n        ylabel : \" 년 이후 논문 수집\",\r\n        years : 5,\r\n        valid : true,\r\n        comp: 'History',\r\n        searchDialog: false,\r\n        siteDialog: false,\r\n        tempSelected : [],\r\n        selected : [],\r\n        sites: [\r\n          {'site' : 'NTIS', 'canCrawl' : true, 'filter' : true},\r\n          {'site' : 'SCIENCEON', 'canCrawl' : true , 'filter' : true},\r\n          {'site' : 'DBPIA', 'canCrawl' : true , 'filter' :  true},\r\n          {'site' : 'KCI', 'canCrawl' : true, 'filter' :  true },\r\n          {'site' : 'SCOPUS', 'canCrawl' : true, 'filter' : true, 'fab' : false},\r\n          {'site' : 'WOS', 'canCrawl' : true, 'filter' : true, 'fab' : false}\r\n\r\n        ],\r\n        operations: ['AND', 'OR', 'NOT'],\r\n        keywords : \"\",\r\n        searches: [\r\n\r\n        ],\r\n        numRules : [\r\n          v => !!v || 'Search year is required',\r\n          v => v > 0 || 'Positive number only'\r\n        ],\r\n\r\n        searchWordRules : [\r\n            v => this.checkSpecificKey(v) || 'Special characters are not available'\r\n        ],\r\n        wordRules : [\r\n          v => !!v || 'Search keyword is required',\r\n          v => this.checkDuplication(v) || 'Same keyword is not available',\r\n          v => this.checkSpecificKey(v) || 'Special characters are not available'\r\n        ],\r\n        dupMsg : \"\",\r\n        dupDialog : false,\r\n        timer : null,\r\n        // filters : {'WOS' : {\"filter\" : \"ALL\"}, 'SCOPUS' : {\"filter\" : \"ALL\"}},\r\n        // CFilters : [\r\n        //   {\r\n        //     icon : mdiAlphaACircle,\r\n        //     name : 'ALL'\r\n        //   },\r\n        //   {\r\n        //     icon : mdiAlphaKCircle,\r\n        //     name : 'KOREA'\r\n        //   }\r\n        // ],\r\n\r\n        filterModel : 1,\r\n        filterMsg : { true : \"ALL\" , false : 'Korea'}\r\n\r\n\r\n      }\r\n    }, //data() End\r\n    computed: {\r\n      selectAll: {\r\n        get: function () {\r\n          return this.sites ? this.selected.length === this.sites.filter(site=>site.canCrawl).length : false\r\n        },\r\n        set: function (value) {\r\n          // console.log('VALUE', value);\r\n          let selected = [];\r\n          if (value) {\r\n            selected = this.sites.filter(site=>site.canCrawl);\r\n          }\r\n          this.selected = selected;\r\n        }\r\n      }\r\n    },\r\n\r\n    created() {\r\n      this.selected = this.sites.filter(site=>site.canCrawl);\r\n\r\n      // console.log(\"created\");\r\n      this.startInterval();\r\n      this.$store.commit(\"setIsMini\", false);\r\n\r\n\r\n    },\r\n    destroyed(){\r\n      // console.log(\"dest\");\r\n      clearInterval(this.timer);\r\n    },\r\n    methods: {\r\n      onFilterClick(site){\r\n        console.log('SITE', site);\r\n        this.sheet = false;\r\n\r\n      },\r\n      checkSpecificKey(str) {\r\n        var specialKey = \"[~#@%$^&*={}:;,\\\\[\\\\].<>/?~#￥……&*??{}【】；：”“。，、？]\";\r\n        for (var i = 0; i < str.length; i++) {\r\n          if (specialKey.indexOf(str.substr(i, 1)) != -1) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      },\r\n      startInterval(){\r\n\r\n        // const getHistory = (t) =>{\r\n        //   t.$store.dispatch('getHistories');\r\n        //   console.log(\"get History\");\r\n        // }\r\n\r\n        this.timer = setInterval(() => {\r\n\r\n              this.$store.dispatch('getHistories',0);\r\n              console.log(\"get History\");\r\n            }, 10000);\r\n      },\r\n      translteKeywords(){\r\n\r\n        // var keywords = this.keywords\r\n        // var stack = []\r\n        // let word = \"\"\r\n        // let type = \"\"\r\n        // var words = keywords.split(\"\");\r\n        // for (var i = 0; i < words.length; i++) {\r\n        //   if (words[i].charAt(0) === \"|\" && words[i].includes(\"(\")){\r\n        //     type =\"OR\";\r\n        //     temp+=words[i]\r\n        //   }\r\n        //   else if(word.charAt(0) === \"!\"&& word[i].includes(\"(\")){\r\n        //     type =\"NOT\";\r\n        //     temp+=words[i]\r\n        //   }\r\n        //\r\n        //     if(words[i].charAt(0) === \"|\" && !word[i].includes(\"(\")){\r\n        //     type = \"OR\";\r\n        //     words[i] = words[i].replace(/\\|/g, \"\");\r\n        //     temp+=words[i]\r\n        //     }\r\n        //     else if(word.charAt(0) === \"!\"&& !word[i].includes(\"(\")){\r\n        //\r\n        //       type = \"NOT\";\r\n        //       words[i] = words[i].replace(/!/g, \"\");\r\n        //       temp+=words[i]\r\n        //     }\r\n        //     else{\r\n        //     temp+=words[i]\r\n        //\r\n        //   }\r\n        //     this.searches.push({words[i], type})\r\n        //     word = \"\";\r\n        //     type = \"\";\r\n        //     stack.append(\"(\");\r\n        //     word+=i;\r\n        //   }\r\n        //   else if(keywords[i] == \")\"){\r\n        //     stack.pop();\r\n        //     word+=i;\r\n        //     this.searches.push({word, type})\r\n        //     word = \"\";\r\n        //   }\r\n        //   else{\r\n        //     word +=i;\r\n        //   }\r\n        // }\r\n        this.searches = []\r\n        this.keywords.trim().split(' ').forEach(word => {\r\n\r\n          if(word.length != 0){\r\n            let type = \"\"\r\n            // if(word.charAt(0) === \"\\\"\" && word.charAt(word.length-1) === \"\\\"\")\r\n            if(word.charAt(0) === \"|\"){\r\n            type = \"OR\";\r\n            word = word.replace(/\\|/g, \"\");\r\n            word = this.insertbracket(word);\r\n            console.log(\"or word\",word);\r\n            }\r\n            else if(word.charAt(0) === \"!\"){\r\n\r\n              type = \"NOT\";\r\n              word = word.replace(/!/g, \"\");\r\n              word = this.insertbracket(word);\r\n              console.log(\"not word\",word);\r\n\r\n            }\r\n            else\r\n            type = \"AND\";\r\n            word = this.insertbracket(word);\r\n            console.log(\"and word\",word);\r\n\r\n\r\n            this.searches.push({word, type})\r\n            //this.searches.push({word: word.replace(/!/g, \"\"), type : type})\r\n          }\r\n        })\r\n        // for (var i = 0; i < this.searches.length; i++){\r\n        //   if (this.searches[i].word.includes(\"(\")){\r\n        //     temp.push(i)\r\n        //   }\r\n        //   else if (temp.length != 0){\r\n        //     temp.push(i)\r\n        //   }\r\n        //   else if (this.searches[i].word.includes(\")\")){\r\n        //     var temp_string = '';\r\n        //     for (var j = 0; temp.length; j++){\r\n        //       temp_string += this.searches[temp[j]].word\r\n        //     }\r\n        //     this.searches[temp[0]] = {temp_string, this.searches[temp[0].type]}\r\n        //   }\r\n        // }\r\n\r\n      },\r\n      search(){\r\n        this.translteKeywords();\r\n        this.setKeywords();\r\n        this.$store.dispatch('requestSearch', {searches: this.searches, sites : this.selected, years : this.years})\r\n      },\r\n      onSearch(){\r\n        if(this.keywords.trim().length > 0) {\r\n          if (!this.checkSpecificKey(this.keywords.trim()))\r\n          {\r\n            this.$store.commit('showSnack', \"특수 문자를 입력할 수 없습니다.\");\r\n            return;\r\n          }\r\n          if (!this.checksites()){\r\n            if(this.checkKor(this.keywords.trim())){\r\n              // this.$store.commit('showSnack', \"해외 사이트는 한글 검색이 지원 되지 않습니다.\");\r\n              this.removeEnsites();\r\n                if(this.checkDuplicationHistories())\r\n                  return;\r\n\r\n\r\n                this.search();\r\n            }else{\r\n              if(this.checkDuplicationHistories())\r\n                return;\r\n\r\n\r\n              this.search();\r\n            }\r\n         }else{\r\n             if(this.checkDuplicationHistories())\r\n               return;\r\n\r\n\r\n             this.search();\r\n          }\r\n        }else{\r\n          this.$store.commit('showSnack', \"키워드를 입력해주세요\")\r\n        }\r\n\r\n\r\n      },\r\n      removeKeyword(idx){\r\n        this.searches.splice(idx, 1)\r\n      },\r\n      insertbracket(word){\r\n        word = word.replace(/\\(/g,`'('`);\r\n        word = word.replace(/\\)/g,`')'`);\r\n        word = word.replace(/''/g,`'`);\r\n        console.log(\"word\",word)\r\n        return word\r\n      },\r\n      setKeywords() {\r\n        let rtv = ''\r\n        let size = this.searches.length - 1\r\n        this.searches.forEach((w, idx) => {\r\n          // let type = \"\"\r\n          switch (this.operations.indexOf(w.type)) {\r\n            case 0:\r\n            rtv += w.word\r\n            break\r\n            case 1:\r\n            rtv += '|'+w.word\r\n            break\r\n            case 2:\r\n            rtv += '!' + w.word\r\n            break\r\n            // case 3:\r\n            // rtv += '(' + w.word\r\n            // break\r\n            // case 4:\r\n            // rtv += w.word + \")\"\r\n            // break\r\n          }\r\n          if (size != idx) rtv += ' '\r\n        })\r\n        // rtv = rtv.replace(/\\(/g,`'('`)\r\n        // rtv = rtv.replace(/\\)/g,`')'`)\r\n        console.log(\"rtv\",rtv)\r\n        this.keywords = rtv\r\n        this.searchDialog = false\r\n      },\r\n      openDetailSearch()\r\n      {\r\n        if(this.keywords.trim().length > 0){\r\n          this.translteKeywords()\r\n        }\r\n        this.searchDialog = true\r\n      },\r\n      dupDialogClick(isSearch){\r\n        this.dupDialog = false;\r\n        if(isSearch)\r\n        this.search();\r\n      },\r\n      checkDuplicationHistories(){\r\n        let numWords = 0;\r\n        let tempCheck = {};\r\n        this.keywords.trim().split(' ').forEach(word => {\r\n          console.log('WORD', word);\r\n          numWords++;\r\n          let histories = this.$store.state.histories;\r\n\r\n\r\n          histories = histories.filter(x => x.query_keyword.split(' ').filter(hWord=> hWord === word).length > 0)\r\n          console.log('HISTORIES', histories);\r\n          if(histories.length > 0)\r\n          {\r\n            histories.forEach(history => {\r\n              if(tempCheck[history._id] === undefined){\r\n                tempCheck[history._id] = {count : 1, time : history.query_time, numWords : history.query_keyword.split(' ').length};\r\n              }\r\n              else\r\n              tempCheck[history._id].count++;\r\n            })\r\n          }\r\n          else {\r\n            return false\r\n          }\r\n        })\r\n        for( let [key, value] of Object.entries(tempCheck)){\r\n          if(value.count === numWords && value.numWords == numWords){\r\n            this.dupMsg = \"중복된 검색 이력이 있습니다. <br /> (검색 시간 : \"+value.time + \")<br /> 계속 검색 하시겠습니까?\";\r\n            this.dupDialog = true;\r\n            console.log('KEY', key);\r\n            return true\r\n          }\r\n        }\r\n        // tempCheck,keyws.\r\n        //this.$store.commit('showSnack', \"키워드를 입력해주세요\")\r\n      },\r\n      checkDuplication(word){\r\n        if(this.searches.filter(w => w.word === word).length > 1)\r\n        return false\r\n        else\r\n        return true\r\n      },\r\n      addSearchItem(){\r\n        this.searches.push({word:\"\", type:\"AND\"})\r\n      },\r\n      openSiteDialog() {\r\n        //store site flags temporary\r\n        this.siteDialog = true;\r\n\r\n        this.tempSelected = this.selected;\r\n        // for (let site in this.sites) {\r\n        //   this.sites[site] = this[site]\r\n        // }\r\n      },\r\n      closeSiteDialog() {\r\n        //restore site flags\r\n        this.siteDialog = false;\r\n        this.selected = this.tempSelected;\r\n        // for (let site in this.sites) {\r\n        //   this[site] = this.sites[site]\r\n        // }\r\n      },\r\n      checksites(){\r\n        console.log(\"before sites : \",this.selected)\r\n        for (let site in this.selected) {\r\n          // console.log(\"site:\",this.selected[site].site)\r\n        if (this.selected[site].site == \"SCOPUS\" || this.selected[site].site == \"WOS\"){\r\n          return false\r\n        }\r\n      }\r\n      return true\r\n    },\r\n    checkKor(str){\r\n     const regExp = /[ㄱ-ㅎㅏ-ㅣ가-힣]/g;\r\n     if(regExp.test(str)){\r\n         return true;\r\n     }else{\r\n         return false;\r\n     }\r\n },\r\n    removeEnsites(){\r\n      for (let site = 0; site< this.selected.length; site++) {\r\n        //console.log(\"site:\",this.selected[site].site)\r\n        if (this.selected[site].site == \"SCOPUS\"||this.selected[site].site == \"WOS\"){\r\n          this.selected.splice(site,1);\r\n          site--;\r\n          console.log(\"after site:\",this.selected)\r\n      }\r\n    }\r\n\r\n    },\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  </script>\r\n"]}]}