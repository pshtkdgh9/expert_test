{"remainingRequest":"C:\\Users\\NETDB\\expert2\\expert_web_v2\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\NETDB\\expert2\\expert_web_v2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\NETDB\\expert2\\expert_web_v2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\NETDB\\expert2\\expert_web_v2\\src\\components\\InstCrawler.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\NETDB\\expert2\\expert_web_v2\\src\\components\\InstCrawler.vue","mtime":1646199605944},{"path":"C:\\Users\\NETDB\\expert2\\expert_web_v2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646199720093},{"path":"C:\\Users\\NETDB\\expert2\\expert_web_v2\\node_modules\\babel-loader\\lib\\index.js","mtime":1646199721724},{"path":"C:\\Users\\NETDB\\expert2\\expert_web_v2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646199720093},{"path":"C:\\Users\\NETDB\\expert2\\expert_web_v2\\node_modules\\vue-loader\\lib\\index.js","mtime":1646199724004}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGF0dXNTdHJpbmc6IHsKICAgICAgICAwOiB7CiAgICAgICAgICAnc3RhdHVzJzogJ+ykkeyngCDrkKgnLAogICAgICAgICAgJ2J0bic6ICfsiJjsp5Eg7JqU7LKtJwogICAgICAgIH0sCiAgICAgICAgMTogewogICAgICAgICAgJ3N0YXR1cyc6ICfsiJjsp5Eg7KSRJywKICAgICAgICAgICdidG4nOiAn7KSR7KeAICcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNyYXdsQnRuVGV4dDogJ+yImOynkSDsmpTssq0nLAogICAgICBpc0NyYXdsOiBmYWxzZSwKICAgICAgY3Jhd2xTdGF0dXM6ICfslYwg7IiYIOyXhuydjCcsCiAgICAgIGVzdGltYXRlZFRpbWU6ICcnLAogICAgICBjcmF3bFByb2dyZXNzOiAwLAogICAgICBudW1Db21wOiAwLAogICAgICB0b3RhbDogMAogICAgfTsKICB9LAogIC8vZGF0YSgpIEVuZAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldElzTWluaSIsIGZhbHNlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1lbnVDYjogZnVuY3Rpb24gbWVudUNiKGluZGV4KSB7CiAgICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICB0aGlzLmZpbGVEaWFsb2cgPSB0cnVlOyAvLyB0aGlzLm9wZW5GaWxlSW1wb3J0KCk7CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIC8vIHRoaXMuY3Jhd2xQcm9ncmVzcyA9IDM2OwogICAgICAgICAgdGhpcy5pbnN0Q3Jhd2xlckRpYWxvZyA9IHRydWU7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgfQogICAgfSwKICAgIHNldENyYXdsRGF0YTogZnVuY3Rpb24gc2V0Q3Jhd2xEYXRhKF9kYXRhKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdSRVNVTFQnLCByZXN1bHQpOwogICAgICB2YXIgY3Jhd2xlZCA9IF9kYXRhLmNyYXdsZWQsCiAgICAgICAgICB0b3RhbCA9IF9kYXRhLnRvdGFsLAogICAgICAgICAgc3RhdHVzID0gX2RhdGEuc3RhdHVzOwogICAgICB0aGlzLnRvdGFsID0gdG90YWw7CiAgICAgIHRoaXMubnVtQ29tcCA9IGNyYXdsZWQ7CiAgICAgIHRoaXMuY3Jhd2xTdGF0dXMgPSB0aGlzLnN0YXR1c1N0cmluZ1tzdGF0dXNdLnN0YXR1czsKICAgICAgdGhpcy5jcmF3bEJ0blRleHQgPSB0aGlzLnN0YXR1c1N0cmluZ1tzdGF0dXNdLmJ0bjsKICAgICAgdmFyIHRlbXBTZWMgPSAodG90YWwgLSBjcmF3bGVkKSAqIDEwOwogICAgICB2YXIgaG91ciA9IHBhcnNlSW50KHRlbXBTZWMgLyAzNjAwKTsKICAgICAgdGVtcFNlYyAtPSBob3VyICogMzYwMDsKICAgICAgdmFyIG1pbiA9IHBhcnNlSW50KHRlbXBTZWMgLyA2MCk7CiAgICAgIHRlbXBTZWMgLT0gbWluICogNjA7CiAgICAgIHRoaXMuZXN0aW1hdGVkVGltZSA9IGhvdXIgKyAi7Iuc6rCEICIgKyBtaW4gKyAi67aEICIgKyB0ZW1wU2VjICsgIuy0iCI7CiAgICAgIHRoaXMuY3Jhd2xQcm9ncmVzcyA9IGNyYXdsZWQgLyB0b3RhbCAqIDEwMDsKICAgIH0sCiAgICBtYWtlQnRuU3RyaW5nOiBmdW5jdGlvbiBtYWtlQnRuU3RyaW5nKF9iRmxhZykgewogICAgICByZXR1cm4gX2JGbGFnID8gIuykkeyngCDsmpTssq0iIDogIuyImOynkSDsmpTssq0iOwogICAgfSwKICAgIG1ha2VTdGF0dXNTdHJpbmc6IGZ1bmN0aW9uIG1ha2VTdGF0dXNTdHJpbmcoX3N0YXR1cykgewogICAgICBzd2l0Y2ggKF9zdGF0dXMpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICByZXR1cm4gIuykkeyngCDrkKgiOwoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXR1cm4gIuyImOynkSDspJEiOwogICAgICB9CiAgICB9LAogICAgc2VuZENyYXdsUmVxdWVzdDogZnVuY3Rpb24gc2VuZENyYXdsUmVxdWVzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKCJ0ZXN0Iik7CiAgICAgIHZhciBmbGFnID0gMDsKICAgICAgdmFyIGlzQ3Jhd2wgPSB0aGlzLmlzQ3Jhd2w7CiAgICAgIHZhciB0dCA9IHRoaXM7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZW5kQ3Jhd2xSZXF1ZXN0JywgewogICAgICAgIGlzQ3Jhd2w6IGlzQ3Jhd2wsCiAgICAgICAgZmxhZzogZmxhZwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBjb25zb2xlLmxvZygnUkVTVUxUJywgcmVzdWx0KTsKICAgICAgICB0dC5zZXRDcmF3bERhdGEocmVzdWx0LmRhdGEpOwogICAgICAgIF90aGlzLmlzQ3Jhd2wgPSAhX3RoaXMuaXNDcmF3bDsKICAgICAgfSk7CiAgICB9LAogICAgcmVmcmVzaENyYXdsU3RhdHVzOiBmdW5jdGlvbiByZWZyZXNoQ3Jhd2xTdGF0dXMoKSB7CiAgICAgIHZhciBmbGFnID0gMTsKICAgICAgdmFyIGlzQ3Jhd2wgPSB0aGlzLmlzQ3Jhd2w7CiAgICAgIHZhciB0dCA9IHRoaXM7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZW5kQ3Jhd2xSZXF1ZXN0JywgewogICAgICAgIGlzQ3Jhd2w6IGlzQ3Jhd2wsCiAgICAgICAgZmxhZzogZmxhZwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBjb25zb2xlLmxvZygnUkVTVUxUJywgcmVzdWx0KTsKICAgICAgICB0dC5zZXRDcmF3bERhdGEocmVzdWx0LmRhdGEpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["InstCrawler.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AAAA,WAAA;AAAA,oBAAA,MAAA;AAAA,iBAAA;AAAA,SAAA;AAAA,WAAA;AAAA,oBAAA,MAAA;AAAA,iBAAA;AAAA;AAAA,OADA;AAEA,MAAA,YAAA,EAAA,OAFA;AAGA,MAAA,OAAA,EAAA,KAHA;AAIA,MAAA,WAAA,EAAA,QAJA;AAKA,MAAA,aAAA,EAAA,EALA;AAMA,MAAA,aAAA,EAAA,CANA;AAOA,MAAA,OAAA,EAAA,CAPA;AAQA,MAAA,KAAA,EAAA;AARA,KAAA;AAWA,GAdA;AAcA;AAEA,EAAA,OAhBA,qBAgBA;AACA,SAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,KAAA;AACA,GAlBA;AAoBA,EAAA,OAAA,EAAA;AAEA,IAAA,MAFA,kBAEA,KAFA,EAEA;AACA,cAAA,KAAA;AACA,aAAA,CAAA;AACA,eAAA,UAAA,GAAA,IAAA,CADA,CAEA;;AACA;;AACA,aAAA,CAAA;AAEA;AACA,eAAA,iBAAA,GAAA,IAAA;AACA;;AACA;AAVA;AAYA,KAfA;AAiBA,IAAA,YAjBA,wBAiBA,KAjBA,EAiBA;AACA;AADA,UAEA,OAFA,GAEA,KAFA,CAEA,OAFA;AAAA,UAEA,KAFA,GAEA,KAFA,CAEA,KAFA;AAAA,UAEA,MAFA,GAEA,KAFA,CAEA,MAFA;AAIA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,OAAA,GAAA,OAAA;AAEA,WAAA,WAAA,GAAA,KAAA,YAAA,CAAA,MAAA,EAAA,MAAA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,CAAA,MAAA,EAAA,GAAA;AAGA,UAAA,OAAA,GAAA,CAAA,KAAA,GAAA,OAAA,IAAA,EAAA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,OAAA,GAAA,IAAA,CAAA;AACA,MAAA,OAAA,IAAA,IAAA,GAAA,IAAA;AAEA,UAAA,GAAA,GAAA,QAAA,CAAA,OAAA,GAAA,EAAA,CAAA;AACA,MAAA,OAAA,IAAA,GAAA,GAAA,EAAA;AAEA,WAAA,aAAA,GAAA,IAAA,GAAA,KAAA,GAAA,GAAA,GAAA,IAAA,GAAA,OAAA,GAAA,GAAA;AACA,WAAA,aAAA,GAAA,OAAA,GAAA,KAAA,GAAA,GAAA;AACA,KArCA;AAsCA,IAAA,aAtCA,yBAsCA,MAtCA,EAsCA;AACA,aAAA,MAAA,GAAA,OAAA,GAAA,OAAA;AACA,KAxCA;AAyCA,IAAA,gBAzCA,4BAyCA,OAzCA,EAyCA;AACA,cAAA,OAAA;AACA,aAAA,CAAA;AACA,iBAAA,MAAA;;AAEA,aAAA,CAAA;AACA,iBAAA,MAAA;AALA;AAQA,KAlDA;AAmDA,IAAA,gBAnDA,8BAmDA;AAAA;;AACA;AACA,UAAA,IAAA,GAAA,CAAA;AACA,UAAA,OAAA,GAAA,KAAA,OAAA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,EAAA;AAAA,QAAA,OAAA,EAAA,OAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,MAAA;AACA,QAAA,EAAA,CAAA,YAAA,CAAA,MAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OAJA;AAKA,KA7DA;AA8DA,IAAA,kBA9DA,gCA8DA;AACA,UAAA,IAAA,GAAA,CAAA;AACA,UAAA,OAAA,GAAA,KAAA,OAAA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,EAAA;AAAA,QAAA,OAAA,EAAA,OAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,MAAA;AACA,QAAA,EAAA,CAAA,YAAA,CAAA,MAAA,CAAA,IAAA;AACA,OAHA;AAIA;AAtEA;AApBA,CAAA","sourcesContent":["<template lang=\"html\">\r\n  <v-container >\r\n    <v-row align=\"center\" justify=\"center\" >\r\n      <v-col cols=\"9\">\r\n        <v-card>\r\n          <v-card-title>\r\n            <span class=\"headline\">DBPIA 소속 수집기</span>\r\n          </v-card-title>\r\n          <v-card-subtitle class=\"align-self-start mt-2\">\r\n            DBPIA 소속 데이터를 수집 - (논문 수집기와 별도 수행)\r\n          </v-card-subtitle>\r\n          <v-card-text>\r\n            수집 현황 ({{crawlStatus}})\r\n            <v-btn icon color=\"grey\" class=\"mr-2\" @click=\"refreshCrawlStatus()\">\r\n              <v-icon>refresh</v-icon>\r\n            </v-btn>\r\n            <v-spacer>\r\n            </v-spacer>\r\n            {{numComp}} 명(수집 전문가 수) / {{total}} 명(전체 전문가 수)\r\n            <v-spacer>\r\n            </v-spacer>\r\n            예상 시간 : {{estimatedTime}}\r\n          </v-card-text>\r\n          <v-card-actions>\r\n\r\n            <v-container align-end>\r\n              <v-row\r\n              class=\"fill-height\"\r\n\r\n              justify=\"center\"\r\n              >\r\n\r\n              <v-progress-linear\r\n              :value=\"crawlProgress\"\r\n              height=\"25\"\r\n              >\r\n              <template v-slot=\"{ value }\">\r\n                <strong>{{ Math.ceil(value) }}%</strong>\r\n              </template>\r\n            </v-progress-linear>\r\n          </v-row>\r\n          <v-row\r\n          class=\"fill-height mt-4\"\r\n          justify=\"end\"\r\n          ><v-btn color=\"primary\" right @click=\"sendCrawlRequest()\">{{crawlBtnText}}</v-btn>\r\n\r\n        </v-row>\r\n\r\n      </v-container>\r\n\r\n\r\n    </v-card-actions>\r\n  </v-card>\r\n</v-col>\r\n</v-row>\r\n</v-container>\r\n</template>\r\n<script>\r\n\r\n\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      statusString : { 0 : { 'status' : '중지 됨', 'btn' : '수집 요청'}, 1 : { 'status' : '수집 중', 'btn' : '중지 '} },\r\n      crawlBtnText : '수집 요청',\r\n      isCrawl : false,\r\n      crawlStatus : '알 수 없음',\r\n      estimatedTime : '',\r\n      crawlProgress : 0,\r\n      numComp : 0,\r\n      total : 0,\r\n\r\n    }\r\n  }, //data() End\r\n\r\n  created(){\r\n      this.$store.commit(\"setIsMini\", false);\r\n  },\r\n\r\n  methods: {\r\n\r\n    menuCb(index){\r\n      switch (index) {\r\n        case 0:\r\n        this.fileDialog = true;\r\n        // this.openFileImport();\r\n        break;\r\n        case 1 :\r\n\r\n        // this.crawlProgress = 36;\r\n        this.instCrawlerDialog = true;\r\n        break;\r\n        default:\r\n      }\r\n    },\r\n\r\n    setCrawlData(_data){\r\n      // console.log('RESULT', result);\r\n      let {crawled, total, status } = _data;\r\n\r\n      this.total = total;\r\n      this.numComp = crawled;\r\n\r\n      this.crawlStatus  = this.statusString[status].status;\r\n      this.crawlBtnText = this.statusString[status].btn;\r\n\r\n\r\n      let tempSec = (total - crawled) * 10;\r\n      let hour = parseInt((tempSec / 3600));\r\n      tempSec -=  hour * 3600;\r\n\r\n      let min =  parseInt((tempSec / 60));\r\n      tempSec -=  min * 60;\r\n\r\n      this.estimatedTime = hour +\"시간 \" + min + \"분 \" +tempSec +\"초\";\r\n      this.crawlProgress = (crawled / total)*100;\r\n    },\r\n    makeBtnString(_bFlag){\r\n      return _bFlag ? \"중지 요청\" : \"수집 요청\";\r\n    },\r\n    makeStatusString(_status){\r\n      switch (_status) {\r\n        case 0:\r\n        return \"중지 됨\";\r\n\r\n        case 1 :\r\n        return \"수집 중\";\r\n\r\n      }\r\n    },\r\n    sendCrawlRequest(){\r\n      // console.log(\"test\");\r\n      let flag = 0;\r\n      let isCrawl = this.isCrawl;\r\n      let tt = this;\r\n      this.$store.dispatch('sendCrawlRequest', {isCrawl, flag}).then(result =>{\r\n        console.log('RESULT', result);\r\n        tt.setCrawlData(result.data);\r\n        this.isCrawl = !this.isCrawl;\r\n      });\r\n    },\r\n    refreshCrawlStatus(){\r\n      let flag = 1;\r\n      let isCrawl = this.isCrawl;\r\n      let tt = this;\r\n      this.$store.dispatch('sendCrawlRequest', {isCrawl, flag}).then(result =>{\r\n        console.log('RESULT', result);\r\n        tt.setCrawlData(result.data);\r\n      });\r\n    },\r\n\r\n  }\r\n}\r\n\r\n</script>\r\n"],"sourceRoot":"src/components"}]}