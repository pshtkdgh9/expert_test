{"remainingRequest":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\src\\store.js","dependencies":[{"path":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\src\\store.js","mtime":1666879769650},{"path":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662543709072},{"path":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\babel-loader\\lib\\index.js","mtime":1662543708310},{"path":"C:\\Users\\netdb\\Git\\expert_test\\expert_test\\expert_web_test\\node_modules\\eslint-loader\\index.js","mtime":1662543717663}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IGNyZWF0ZVBlcnNpc3RlZFN0YXRlIGZyb20gJ3Z1ZXgtcGVyc2lzdGVkc3RhdGUnOwppbXBvcnQgeyBnZXQsIHBvc3QgfSBmcm9tICcuL2FwaVV0aWxzJzsKaW1wb3J0IFhMU1ggZnJvbSAneGxzeCc7CmltcG9ydCB7IHNhdmVBcyB9IGZyb20gJ2ZpbGUtc2F2ZXInOwpWdWUudXNlKFZ1ZXgpOyAvLyBjb25zdCBpbml0V2VpZ2h0ID0gbmV3IEFycmF5KDYpLmZpbGwoNTApCgp2YXIgc2hlZXROYW1lcyA9IFsnUHJvamVjdHMnLCAnUGFwZXJzJywgJ0V4cGVydHMnXTsgLy9Eb3dubG9hZEpzb25EYXRhKHJlc3BvbnNlLmRhdGEsIGRhdGEubmFtZSArICJfIiArIGRhdGEuc2l0ZSwgdHJ1ZSwgZmxhZyk7CgpmdW5jdGlvbiBEb3dubG9hZEpzb25EYXRhKEpTT05EYXRhLCBGaWxlVGl0bGUsIFNob3dMYWJlbCwgRmxhZykgewogIC8vIGNvbnNvbGUubG9nKCdKU09OREFUQScsIEpTT05EYXRhKTsKICAvL0lmIEpTT05EYXRhIGlzIG5vdCBhbiBvYmplY3QgdGhlbiBKU09OLnBhcnNlIHdpbGwgcGFyc2UgdGhlIEpTT04gc3RyaW5nIGluIGFuIE9iamVjdAogIHZhciB3YiA9IFhMU1gudXRpbHMuYm9va19uZXcoKTsgLy8gY29uc29sZS5sb2coJ1dCJywgd2IpOwoKICBmdW5jdGlvbiBzMmFiKHMpIHsKICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIocy5sZW5ndGgpOyAvL2NvbnZlcnQgcyB0byBhcnJheUJ1ZmZlcgoKICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTsgLy9jcmVhdGUgdWludDhhcnJheSBhcyB2aWV3ZXIKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmlld1tpXSA9IHMuY2hhckNvZGVBdChpKSAmIDB4RkY7CiAgICB9IC8vY29udmVydCB0byBvY3RldAoKCiAgICByZXR1cm4gYnVmOwogIH0KCiAgdmFyIG91dERhdGEgPSBbXTsKCiAgZnVuY3Rpb24gaXNMb29vcGFibGUodykgewogICAgdmFyIGFycmF5Q29uc3RydWN0b3IgPSBbXS5jb25zdHJ1Y3RvcjsKICAgIHZhciBvYmplY3RDb25zdHJ1Y3RvciA9IHt9LmNvbnN0cnVjdG9yOwoKICAgIGlmICh3ICE9PSBudWxsKSB7CiAgICAgIGlmICh3LmNvbnN0cnVjdG9yID09PSBhcnJheUNvbnN0cnVjdG9yKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGlmICh3LmNvbnN0cnVjdG9yID09PSBvYmplY3RDb25zdHJ1Y3RvcikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0gLy8gbGV0IGZpZWxkSXRlbXMgPSBPYmplY3Qua2V5cyhmaWVsZHNbRmxhZ10pOwoKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBKU09ORGF0YS5sZW5ndGg7IGkrKykgewogICAgdmFyIHRlbXAgPSB7fTsgLy8gbGV0IGogPSAwOwoKICAgIGZvciAodmFyIGZpZWxkIGluIEpTT05EYXRhW2ldKSB7CiAgICAgIHZhciBmRGF0YSA9IEpTT05EYXRhW2ldW2ZpZWxkXTsKCiAgICAgIGlmIChpc0xvb29wYWJsZShmRGF0YSkpIHsKICAgICAgICB2YXIgX3RlbXAgPSAiIjsKCiAgICAgICAgZm9yICh2YXIgaW5EYXRhIGluIGZEYXRhKSB7CiAgICAgICAgICBfdGVtcCArPSBpbkRhdGEgKyAiIDogIiArIGZEYXRhW2luRGF0YV07CiAgICAgICAgfQoKICAgICAgICBmRGF0YSA9IF90ZW1wOwogICAgICB9IC8vIGlmIChmaWVsZCA9PSAnbmFtZScgfHwgZmllbGQgPT0gJ2luc3QnKQogICAgICAvLyAJZkRhdGEgPSBmRGF0YS5yZXBsYWNlKC8sL2csICI7Iik7CgoKICAgICAgaWYgKGZEYXRhID09PSB1bmRlZmluZWQgfHwgZkRhdGEgPT0gJ251bGwnIHx8IGZEYXRhID09ICJcIk5vbmVcIiIgfHwgZkRhdGEgPT0gbnVsbCkgZkRhdGEgPSAnLSc7CiAgICAgIHRlbXBbZmllbGRdID0gZkRhdGE7IC8vIHJvdyArPSBmRGF0YSArICcsJzsKICAgIH0KCiAgICBvdXREYXRhLnB1c2godGVtcCk7CiAgfQoKICB2YXIgbmV3V29ya3NoZWV0ID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KG91dERhdGEpOwogIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod2IsIG5ld1dvcmtzaGVldCwgc2hlZXROYW1lc1tGbGFnXSk7IC8vCiAgLy8gY29uc3Qgd29ya3NoZWV0ID0gWExTWC51dGlscy5hb2FfdG9fc2hlZXQoYXJyYXlPZkFycmF5KTsKCiAgbmV3V29ya3NoZWV0WychY29scyddID0gZml0VG9Db2x1bW4ob3V0RGF0YSk7CgogIGZ1bmN0aW9uIGZpdFRvQ29sdW1uKG91dERhdGEpIHsKICAgIC8vIGNvbnNvbGUubG9nKCdPVVREQVRBJywgb3V0RGF0YSk7CiAgICAvLyBnZXQgbWF4aW11bSBjaGFyYWN0ZXIgb2YgZWFjaCBjb2x1bW4KICAgIHZhciBjb2xTaXplID0gW107CgogICAgZm9yICh2YXIgX2ZpZWxkIGluIG91dERhdGFbMF0pIHsKICAgICAgLy8gb3V0RGF0YVswXVtmaWVsZF0KICAgICAgLy8gY29uc29sZS5sb2coJ09VVERBVEFbMF1bRklFTERdJywgb3V0RGF0YVswXVtmaWVsZF0pOwogICAgICB2YXIgd2NoID0gb3V0RGF0YVswXVtfZmllbGRdLmxlbmd0aDsKICAgICAgaWYgKHdjaCA9PSAwIHx8IHdjaCA9PT0gdW5kZWZpbmVkKSB3Y2ggPSAyMDsKICAgICAgaWYgKHdjaCA+IDEwMCkgd2NoID0gMTAwOwogICAgICBjb2xTaXplLnB1c2goewogICAgICAgICd3Y2gnOiB3Y2gKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIGNvbFNpemU7CiAgfQoKICB2YXIgd2JvdXQgPSBYTFNYLndyaXRlKHdiLCB7CiAgICBib29rVHlwZTogJ3hsc3gnLAogICAgdHlwZTogJ2JpbmFyeScKICB9KTsKICBzYXZlQXMobmV3IEJsb2IoW3MyYWIod2JvdXQpXSwgewogICAgdHlwZTogImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSIKICB9KSwgRmlsZVRpdGxlICsgJy54bHN4Jyk7IC8vIGxldCBhcnJEYXRhID0gdHlwZW9mIEpTT05EYXRhICE9ICdvYmplY3QnID8gSlNPTi5wYXJzZShKU09ORGF0YSkgOiBKU09ORGF0YTsKICAvLyBsZXQgQ1NWID0gJyc7CiAgLy8gaWYgKFNob3dMYWJlbCkgewogIC8vIAlsZXQgcm93ID0gIiI7CiAgLy8KICAvLyAJbGV0IGZpZWxkSXRlbXMgPSBPYmplY3Qua2V5cyhmaWVsZHNbRmxhZ10pOwogIC8vIAlmaWVsZEl0ZW1zLmZvckVhY2goKGZpZWxkKSA9PiB7CiAgLy8gCQlyb3cgKz0gZmllbGRzW0ZsYWddW2ZpZWxkXSArICcsJzsKICAvLyAJfSk7CiAgLy8gCXJvdyA9IHJvdy5zbGljZSgwLCAtMSk7CiAgLy8gCUNTViArPSByb3cgKyAnXHJcbic7CiAgLy8gfQogIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyRGF0YS5sZW5ndGg7IGkrKykgewogIC8vIAlsZXQgcm93ID0gIiI7CiAgLy8gCWZvciAobGV0IGZpZWxkIGluIGZpZWxkc1tGbGFnXSkgewogIC8vIAkJbGV0IGZEYXRhID0gYXJyRGF0YVtpXVtmaWVsZF07CiAgLy8gCQlpZiAoZmllbGQgPT0gJ25hbWUnIHx8IGZpZWxkID09ICdpbnN0JykKICAvLyAJCQlmRGF0YSA9IGZEYXRhLnJlcGxhY2UoLywvZywgIjsiKTsKICAvLyAJCWlmIChmRGF0YSA9PT0gdW5kZWZpbmVkIHx8IGZEYXRhID09ICdudWxsJyB8fCBmRGF0YSA9PSAiXCJOb25lXCIiKQogIC8vIAkJCWZEYXRhID0gJy0nOwogIC8vIAkJcm93ICs9IGZEYXRhICsgJywnOwogIC8vIAl9CiAgLy8gCXJvdy5zbGljZSgwLCByb3cubGVuZ3RoIC0gMSk7CiAgLy8gCUNTViArPSByb3cgKyAnXHJcbic7CiAgLy8gfQogIC8vIGlmIChDU1YgPT0gJycpIHsKICAvLyAJYWxlcnQoIkludmFsaWQgZGF0YSIpOwogIC8vIAlyZXR1cm47CiAgLy8gfQogIC8vIHZhciBmaWxlbmFtZSA9IEZpbGVUaXRsZTsKICAvLyB2YXIgYmxvYiA9IG5ldyBCbG9iKFsiXHVmZWZmIiArIENTVl0sIHsKICAvLyAJdHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTg7JwogIC8vIH0pOwogIC8vIGlmIChuYXZpZ2F0b3IubXNTYXZlQmxvYikgeyAvLyBJRSAxMCsKICAvLyAJbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZW5hbWUpOwogIC8vIH0gZWxzZSB7CiAgLy8gCXZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogIC8vIAlpZiAobGluay5kb3dubG9hZCAhPT0gdW5kZWZpbmVkKSB7IC8vIGZlYXR1cmUgZGV0ZWN0aW9uCiAgLy8gCQl2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAvLyAJCWxpbmsuc2V0QXR0cmlidXRlKCJocmVmIiwgdXJsKTsKICAvLyAJCWxpbmsuc3R5bGUgPSAidmlzaWJpbGl0eTpoaWRkZW4iOwogIC8vIAkJbGluay5kb3dubG9hZCA9IGZpbGVuYW1lICsgIi5jc3YiOwogIC8vIAkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAvLyAJCWxpbmsuY2xpY2soKTsKICAvLyAJCWRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7CiAgLy8gCX0KICAvLyB9Cn0KCnZhciBtc2cgPSB7CiAgdGltZW91dDogMzAwMCwKICAvLzNzCiAgb2s6ICLsoJXsg4HsoIHsnbgg7J2R64u17J6F64uI64ukLiIsCiAgLy8gaGlzdG9yeV9vazogIuqygOyDiSDrqqnroZ3snYQg7KCV7IOB7KCB7Jy866GcIOu2iOufrOyZlOyKteuLiOuLpC4iLAogIGZhaWw6ICLruYTsoJXsg4HsoIHsnbgg7J2R64u17J6F64uI64ukLiIsCiAgcnVuOiAi67Kk7LmY66eI7YK57J20IOyLnOyekeuQmOyXiOyKteuLiOuLpC4iCn07IC8vc25hY2tiYXIKCmV4cG9ydCB2YXIgc2hvd1NuYWNrID0gZnVuY3Rpb24gc2hvd1NuYWNrKGN0eHQsIHJlcCkgewogIHZhciBtc2dwID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAiIjsKCiAgaWYgKG1zZ3AgPT09ICIiKSB7Ly8gaWYgKHJlcC5zdGF0dXMgPT0gMjAwIHx8IHJlcC5zdGF0dXMgPT0gMjA0KQogICAgLy8gCWN0eHQuY29tbWl0KCdzaG93U25hY2snLCBtc2cub2spCiAgICAvLyBlbHNlIGlmIChyZXAuc3RhdHVzID09IDQwNCkKICAgIC8vIAljdHh0LmNvbW1pdCgnc2hvd1NuYWNrJywgbXNnLmZhaWwpCiAgfSBlbHNlIHsKICAgIGN0eHQuY29tbWl0KCdzaG93U25hY2snLCBtc2dwKTsKICB9Cn07IC8vbG9hZGluZyBiYXIKCmV4cG9ydCB2YXIgc2V0TG9hZGluZyA9IGZ1bmN0aW9uIHNldExvYWRpbmcoY3R4dCwgaXNMb2FkaW5nKSB7CiAgY3R4dC5jb21taXQoJ3NldElzTG9hZGluZycsIGlzTG9hZGluZyk7Cn07CmV4cG9ydCB2YXIgc3RvcmUgPSBuZXcgVnVleC5TdG9yZSh7CiAgcGx1Z2luczogW2NyZWF0ZVBlcnNpc3RlZFN0YXRlKHsKICAgIHN0b3JhZ2U6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZSAvLyBzdG9yZeulvCBzZXNzaW9uIHN0b3JhZ2Ug7JeQIOycoOyngAoKICB9KV0sCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1zdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgc3RhdGU6IHsKICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICBzbmFjazogewogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICBtc2c6ICIiCiAgICB9LAogICAgaXNNaW5pOiBmYWxzZSwKICAgIGhpc3RvcmllczogW10sCiAgICBhY3RpdmVUYWI6IG51bGwsCiAgICBhY3RpdmVJbm5lclRhYjoge30sCiAgICB0YWJzOiBbXSwKICAgIHNpdGVzOiB7fSwKICAgIGludGVncmF0aW9uczogewogICAgICAiRG9tZXN0aWMiOiBbXSwKICAgICAgIkludGVybmF0aW9uYWwiOiBbXQogICAgfSwKICAgIGlnSUQ6IC0xLAogICAgaWdLZXl3b3JkOiAiIiwKICAgIGZpbHRlcnM6IHsKICAgICAgInByb2plY3QiOiB7fSwKICAgICAgInBhcGVyIjoge30KICAgIH0sCiAgICBpZ1RvdGFsOiAwLAogICAgaWdEb21lc3RpYzogMCwKICAgIGlnSW50ZXJuYXRpb25hbDogMCwKICAgIGlnUmF3OiB7fSwKICAgIHByZXZmSWQ6IDAsCiAgICByYW5raW5zdDogW10sCiAgICBhX3VybDogW10gLy8gc2VsZWN0ZWQ6IHsKICAgIC8vIAkJJ2luc3QnOiBbXSwKICAgIC8vIAkJJ3JzYyc6IFtdLAogICAgLy8gCQknZnVuZCc6IFtdLAogICAgLy8gCQkneWVhcic6IFtdCiAgICAvLyAJfSwKICAgIC8vIAkncGFwZXInOiB7CiAgICAvLyAJCSdpbnN0JzogW10sCiAgICAvLyAJCSd5ZWFyJzogW10sCiAgICAvLyAJCSdqb3VybmFsJzogW10sCiAgICAvLyAJCSdsYW5nJzogW10KICAgIC8vIAl9LAogICAgLy8gfQoKICB9LAogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL3N0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLW11dGF0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgbXV0YXRpb25zOiB7CiAgICBzZXRJc01pbmk6IGZ1bmN0aW9uIHNldElzTWluaShzdGF0ZSwgZmxhZykgewogICAgICBzdGF0ZS5pc01pbmkgPSBmbGFnOwogICAgfSwKICAgIGNsb3NlVGFiOiBmdW5jdGlvbiBjbG9zZVRhYihzdGF0ZSwgaWQpIHsKICAgICAgc3RhdGUudGFicy5zcGxpY2Uoc3RhdGUudGFicy5maW5kSW5kZXgoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5faWQgPT0gaWQ7CiAgICAgIH0pLCAxKTsgLy9zdGF0ZS5hY3RpdmVJbm5lclRhYltkSGlzdG9yeS5faWRdID0gMDsKCiAgICAgIGlmIChzdGF0ZS50YWJzLmxlbmd0aCA+IDApIHN0YXRlLmFjdGl2ZVRhYiA9IHN0YXRlLnRhYnNbMF0uX2lkOyAvLyBpZihpZHggIT0gc3RhdGUudGFicy5sZW5ndGgpewogICAgICAvLyAJCXN0YXRlLnRhYnMuCiAgICAgIC8vIH0KICAgICAgLy8KICAgICAgLy8gaWYgKHN0YXRlLmFjdGl2ZVRhYiA9PSBpZHgpCiAgICAgIC8vIAlzdGF0ZS5hY3RpdmVUYWIgPSBzdGF0ZS50YWJzLmxlbmd0aDsKICAgIH0sCiAgICAvL3NuYWNrYmFyCiAgICBjbG9zZVNuYWNrOiBmdW5jdGlvbiBjbG9zZVNuYWNrKHN0YXRlKSB7CiAgICAgIHN0YXRlLnNuYWNrLmlzU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIHNob3dTbmFjazogZnVuY3Rpb24gc2hvd1NuYWNrKHN0YXRlLCBtZXNzYWdlKSB7CiAgICAgIHN0YXRlLnNuYWNrID0gewogICAgICAgIGlzU2hvdzogdHJ1ZSwKICAgICAgICAvLyBjb2xvcjogImN5YW4gZGFya2VuLTIiLAogICAgICAgIG1zZzogbWVzc2FnZSwKICAgICAgICB0aW1lb3V0OiBtc2cudGltZW91dAogICAgICB9OyAvLyBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdvYmplY3QnKSB7CiAgICAgIC8vIAlsZXQgewogICAgICAvLyAJCW1zZywKICAgICAgLy8gCQljb2xvcgogICAgICAvLwogICAgICAvLyAJfSA9IG1lc3NhZ2U7CiAgICAgIC8vIAlzdGF0ZS5zbmFjayA9IHsKICAgICAgLy8gCQlpc1Nob3c6IHRydWUsCiAgICAgIC8vIAkJbXNnLAogICAgICAvLyAJCWNvbG9yLAogICAgICAvLyAJCXRpbWVvdXQ6IG1zZy50aW1lb3V0CiAgICAgIC8vIAl9OzcKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gCXN0YXRlLnNuYWNrID0gewogICAgICAvLyAJCWlzU2hvdzogdHJ1ZSwKICAgICAgLy8gCQljb2xvcjogImN5YW4gZGFya2VuLTIiLAogICAgICAvLyAJCW1zZzogbWVzc2FnZSwKICAgICAgLy8gCQl0aW1lb3V0OiBtc2cudGltZW91dAogICAgICAvLyAJfQogICAgICAvLyB9CiAgICB9LAogICAgc2hvd2FsYXJtOiBmdW5jdGlvbiBzaG93YWxhcm0oc3RhdGUsIG1lc3NhZ2UpIHsKICAgICAgc3RhdGUuc25hY2sgPSB7CiAgICAgICAgaXNTaG93OiB0cnVlLAogICAgICAgIC8vIGNvbG9yOiAiY3lhbiBkYXJrZW4tMiIsCiAgICAgICAgbXNnOiBtZXNzYWdlLAogICAgICAgIHRpbWVvdXQ6IG1zZy50aW1lb3V0CiAgICAgIH07CiAgICB9LAogICAgc2V0SXNMb2FkaW5nOiBmdW5jdGlvbiBzZXRJc0xvYWRpbmcoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuaXNMb2FkaW5nID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRIaXN0b3JpZXM6IGZ1bmN0aW9uIHNldEhpc3RvcmllcyhzdGF0ZSwgaGlzdG9yaWVzKSB7CiAgICAgIGlmIChoaXN0b3JpZXMubGVuZ3RoID4gMCkgewogICAgICAgIGhpc3Rvcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgICAgIGl0ZW0uc2l0ZXMuZm9yRWFjaChmdW5jdGlvbiAoc2l0ZSkgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzaXRlKTsKICAgICAgICAgICAgc2l0ZS5faWQgPSBpdGVtLl9pZDsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHN0YXRlLmhpc3RvcmllcyA9IGhpc3RvcmllczsKICAgICAgfSAvLyBzdGF0ZS5oaXN0b3JpZXMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAvLyAJbGV0IHRvdGFsID0gMAogICAgICAvLyAJaXRlbS5zaXRlcy5mb3JFYWNoKChzaXRlLCBpKSA9PiB7CiAgICAgIC8vIAkJaXRlbVtzaXRlXSA9IE1hdGgucmFuZG9tKCkgKiAxMDAKICAgICAgLy8gCQlpZiAoaSAhPSAwKSB7CiAgICAgIC8vIAkJCXRvdGFsICs9IGl0ZW1bc2l0ZV0KICAgICAgLy8gCQl9CiAgICAgIC8vIAl9KTsKICAgICAgLy8gCWl0ZW1bJ0FMTCddID0gdG90YWwgLyAoaXRlbS5zaXRlcy5sZW5ndGggLSAxKTsKICAgICAgLy8gfSk7CgogICAgfSwKICAgIGFkZEhpc3Rvcnk6IGZ1bmN0aW9uIGFkZEhpc3Rvcnkoc3RhdGUsIGhpc3RvcnkpIHsKICAgICAgc3RhdGUuaGlzdG9yaWVzLnVuc2hpZnQoaGlzdG9yeSk7CiAgICB9LAogICAgYWRkRGV0YWlsSGlzdG9yeTogZnVuY3Rpb24gYWRkRGV0YWlsSGlzdG9yeShzdGF0ZSwgZEhpc3RvcnkpIHsKICAgICAgdmFyIGlkeCA9IHN0YXRlLmhpc3Rvcmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGgpIHsKICAgICAgICByZXR1cm4gaC5faWQgPT09IGRIaXN0b3J5Ll9pZDsKICAgICAgfSk7CiAgICAgIFZ1ZS5zZXQoc3RhdGUuaGlzdG9yaWVzLCBpZHgsIGRIaXN0b3J5KTsKICAgICAgc3RhdGUudGFicy5wdXNoKGRIaXN0b3J5KTsgLy8gc3RhdGUuYWN0aXZlVGFiID0gZEhpc3RvcnkuX2lkOwoKICAgICAgc3RhdGUuYWN0aXZlVGFiID0gc3RhdGUudGFicy5sZW5ndGggLSAxOwogICAgICBzdGF0ZS5hY3RpdmVJbm5lclRhYltzdGF0ZS50YWJzLmxlbmd0aCAtIDFdID0gMDsKICAgIH0sCiAgICBhZGRFeHBlcnRzOiBmdW5jdGlvbiBhZGRFeHBlcnRzKHN0YXRlLCBleHBlcnRzKSB7CiAgICAgIGV4cGVydHMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChleHBlcnQpIHsKICAgICAgICBleHBlcnQua2V5SWQgPSBleHBlcnRzLl9pZDsKICAgICAgfSk7CiAgICAgIHZhciBpZHggPSBzdGF0ZS50YWJzLmZpbmRJbmRleChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4Ll9pZCA9PSBleHBlcnRzLl9pZDsKICAgICAgfSk7CiAgICAgIHN0YXRlLnRhYnNbaWR4XS5zaXRlc1tleHBlcnRzLl9pZHhdLmxpc3RzID0gZXhwZXJ0cy5kYXRhOwogICAgfSwKICAgIGFkZEV4cGVydFJlbGF0aW9uOiBmdW5jdGlvbiBhZGRFeHBlcnRSZWxhdGlvbihzdGF0ZSwgcmVsKSB7CiAgICAgIHZhciBzaXRlID0gc3RhdGUudGFiLnNpdGVzW3JlbC5faWR4XTsKCiAgICAgIGlmIChyZWwuZmxhZykgewogICAgICAgIC8vIHRoaXMuCiAgICAgICAgc2l0ZS5ub2RlcyA9IFtdOwogICAgICAgIHNpdGUubGlua3MgPSBbXTsKICAgICAgfQoKICAgICAgc2l0ZS5ub2RlcyA9IHNpdGUubm9kZXMuY29uY2F0KHJlbC5kYXRhLmFzUmVzdWx0cyk7CiAgICAgIHJlbC5kYXRhLnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHNpdGUubGlua3MucHVzaCh7CiAgICAgICAgICAic2lkIjogaXRlbS5zb3VyY2VBSWQsCiAgICAgICAgICAidGlkIjogaXRlbS50YXJnZXRBSWQsCiAgICAgICAgICAibmFtZSI6IGl0ZW0uY291bnQsCiAgICAgICAgICBfc3ZnQXR0cnM6IHsKICAgICAgICAgICAgInN0cm9rZS13aWR0aCI6IGl0ZW0uY291bnQgLyAyCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNldFNpdGVzOiBmdW5jdGlvbiBzZXRTaXRlcyhzdGF0ZSwgc2l0ZXMpIHsKICAgICAgc3RhdGUuc2l0ZXMgPSBzaXRlczsKICAgIH0sCiAgICBzZXRGaWx0ZXJzOiBmdW5jdGlvbiBzZXRGaWx0ZXJzKHN0YXRlLCBmaWx0ZXJzKSB7CiAgICAgIGRlbGV0ZSBmaWx0ZXJzWydfaWQnXTsKICAgICAgZGVsZXRlIGZpbHRlcnNbJ2tleUlkJ107CiAgICAgIGRlbGV0ZSBmaWx0ZXJzWydmSWQnXTsKCiAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXJzKS5sZW5ndGggPiAwKSB7CiAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoZmlsdGVyS2V5KSB7CiAgICAgICAgICBPYmplY3Qua2V5cyhmaWx0ZXJzW2ZpbHRlcktleV0pLmZvckVhY2goZnVuY3Rpb24gKGZmKSB7CiAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ZpbHRlcktleV1bZmZdLnNlbGVjdGVkID09PSB1bmRlZmluZWQpIGZpbHRlcnNbZmlsdGVyS2V5XVtmZl0uc2VsZWN0ZWQgPSBbXTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChmaWx0ZXJzW2ZpbHRlcktleV0uaW5zdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGZpbHRlcnNbZmlsdGVyS2V5XS5pbnN0Lmxpc3QgPSBPYmplY3Qua2V5cyhmaWx0ZXJzW2ZpbHRlcktleV0uaW5zdC5saXN0KS5zbGljZSgwLCAxMCkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkgewogICAgICAgICAgICAgIC8vIGtleSA9IGtleS5yZXBsYWNlQWxsKCdeJywgIi4iKTsKICAgICAgICAgICAgICByZXN1bHRba2V5LnJlcGxhY2VBbGwoJ14nLCAiLiIpXSA9IGZpbHRlcnNbZmlsdGVyS2V5XS5pbnN0Lmxpc3Rba2V5XTsKICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICB9LCB7fSk7IC8vIGZpbHRlcnNbZmlsdGVyS2V5XS5pbnN0LmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgLy8gCWl0ZW0gPSBpdGVtCiAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChmaWx0ZXJzW2ZpbHRlcktleV0uam91cm5hbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGZpbHRlcnNbZmlsdGVyS2V5XS5qb3VybmFsLmxpc3QgPSBPYmplY3Qua2V5cyhmaWx0ZXJzW2ZpbHRlcktleV0uam91cm5hbC5saXN0KS5zbGljZSgwLCAxMCkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkgewogICAgICAgICAgICAgIC8vIGtleSA9IGtleS5yZXBsYWNlQWxsKCdeJywgIi4iKTsKICAgICAgICAgICAgICByZXN1bHRba2V5LnJlcGxhY2VBbGwoJ14nLCAiLiIpXSA9IGZpbHRlcnNbZmlsdGVyS2V5XS5qb3VybmFsLmxpc3Rba2V5XTsKICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICB9LCB7fSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGZpbHRlcnNbZmlsdGVyS2V5XS55ZWFyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdmFyIHRlbXAgPSBuZXcgTWFwKCk7CiAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlcnNbZmlsdGVyS2V5XS55ZWFyLmxpc3QpLnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgdGVtcC5zZXQoeCwgZmlsdGVyc1tmaWx0ZXJLZXldLnllYXIubGlzdFt4XSk7CiAgICAgICAgICAgIH0pOyAvLyBsZXQgdHRlbXAgPSB7fTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdURU1QJywgdGVtcCk7IC8vCiAgICAgICAgICAgIC8vIHJ0di5wcm9qZWN0W2ZdLmxpc3QgPSB0ZW1wOwoKICAgICAgICAgICAgZmlsdGVyc1tmaWx0ZXJLZXldLnllYXIubGlzdCA9IHRlbXA7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzOwogICAgICBjb25zb2xlLmxvZygnRklMVEVSUycsIGZpbHRlcnMpOwogICAgICBjb25zb2xlLmxvZygnRmlsdGVycyBjb21wbGV0ZWQnKTsKICAgIH0sCiAgICBzZXRJbnRlZ3JhdGlvblJlc3VsdDogZnVuY3Rpb24gc2V0SW50ZWdyYXRpb25SZXN1bHQoc3RhdGUsIGlnUmVzdWx0KSB7CiAgICAgIGlnUmVzdWx0LnJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChhdXRob3IpIHsKICAgICAgICAvLwlkX29yX2kuZm9yRWFjaCgoYXV0aG9yKSA9PiB7CiAgICAgICAgYXV0aG9yLm51bVBhcGVycyArPSAi6rG0IjsKICAgICAgICBhdXRob3IucktleXdvcmRzID0gJy0nOwogICAgICAgIGF1dGhvci5uZXR3b3JrID0gJy0nOwogICAgICAgIGF1dGhvci53ZWJTZWFyY2ggPSAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT0nICsgYXV0aG9yLm5hbWUgKyAiKyIgKyBhdXRob3IuaW5zdDsKICAgICAgICBhdXRob3IubnVtUHJvamVjdHMgKz0gIuqxtCI7CiAgICAgICAgYXV0aG9yLnRvdGFsQ2l0YXRpb24gKz0gIu2ajCI7CiAgICAgICAgYXV0aG9yLnRvdGFsQ29vcCArPSAi6rG0IjsKCiAgICAgICAgaWYgKGF1dGhvci5yZWNlbnRZZWFyID09ICcwJykgewogICAgICAgICAgYXV0aG9yLnJlY2VudFllYXIgPSAnLSc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGF1dGhvci5yZWNlbnRZZWFyICs9ICLrhYQiOwogICAgICAgIH0gLy8JfSk7CgogICAgICB9KTsgLy8JdmFyIGlncyA9IHsnRG9tZXN0aWMnOltdLCAnSW50ZXJuYXRpb25hbCc6W119CiAgICAgIC8vICAgZm9yIChsZXQgZGF0YSA9IDA7IGRhdGE8IGlnUmVzdWx0LnJlc3VsdC5sZW5ndGg7IGRhdGErKykgewogICAgICAvLyAgICAgLy9jb25zb2xlLmxvZygic2l0ZToiLHRoaXMuc2VsZWN0ZWRbc2l0ZV0uc2l0ZSkKICAgICAgLy8gICAgIGlmIChpZ1Jlc3VsdC5yZXN1bHRbZGF0YV0uQ291bnRyeSA9PSAiRG9tZXN0aWMiKXsKICAgICAgLy8gICAgICAgaWdzLkRvbWVzdGljLnB1c2goaWdSZXN1bHQucmVzdWx0W2RhdGFdKQogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICBlbHNlewogICAgICAvLyAgICAgICBpZ3MuSW50ZXJuYXRpb25hbC5wdXNoKGlnUmVzdWx0LnJlc3VsdFtkYXRhXSkKICAgICAgLy8KICAgICAgLy8gICAgIH0KICAgICAgLy8gfQoKICAgICAgaWYgKGlnUmVzdWx0LmZsYWcgPT0gMCkgc3RhdGUuaW50ZWdyYXRpb25zLkRvbWVzdGljID0gaWdSZXN1bHQucmVzdWx0O2Vsc2UgewogICAgICAgIHN0YXRlLmludGVncmF0aW9ucy5JbnRlcm5hdGlvbmFsID0gaWdSZXN1bHQucmVzdWx0OwogICAgICB9IC8vc3RhdGUuaW50ZWdyYXRpb25zID0gaWdzOwogICAgICAvLyBzdGF0ZS5pbnRlZ3JhdGlvbnMgPSBpZ1Jlc3VsdC5yZXN1bHQ7CgogICAgICBjb25zb2xlLmxvZygnU1RBVEUuSU5URUdSQVRJT05TICcsIHN0YXRlLmludGVncmF0aW9ucyk7CiAgICB9LAogICAgc2V0SW50ZWdyYXRpb25SYXc6IGZ1bmN0aW9uIHNldEludGVncmF0aW9uUmF3KHN0YXRlLCBpZ1JhdykgewogICAgICBzdGF0ZS5pZ1Jhd1tpZ1Jhdy5pZHhdID0gaWdSYXc7IC8vIHN0YXRlLmludGVncmF0aW9ucy5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgIC8vIAlpZiAoaXRlbS5pZHggPT0gaWdSYXcuaWR4KSB7CiAgICAgIC8vIAkJaXRlbS5yYXdzID0gaWdSYXc7CiAgICAgIC8vIAkJY29uc29sZS5sb2coJ0lURU0uUkFXUyAnLCBpdGVtLnJhd3MpOwogICAgICAvLyAJCXJldHVybjsKICAgICAgLy8gCX0KICAgICAgLy8gfSk7CiAgICB9LAogICAgZGVsZXRlU2VsZWN0ZWQ6IGZ1bmN0aW9uIGRlbGV0ZVNlbGVjdGVkKHN0YXRlKSB7CiAgICAgIHN0YXRlLnNlbGVjdGVkID0gewogICAgICAgICdwcm9qZWN0JzogewogICAgICAgICAgJ2luc3QnOiBbXSwKICAgICAgICAgICdyc2MnOiBbXSwKICAgICAgICAgICdmdW5kJzogW10sCiAgICAgICAgICAneWVhcic6IFtdCiAgICAgICAgfSwKICAgICAgICAncGFwZXInOiB7CiAgICAgICAgICAnaW5zdCc6IFtdLAogICAgICAgICAgJ3llYXInOiBbXSwKICAgICAgICAgICdqb3VybmFsJzogW10sCiAgICAgICAgICAnbGFuZyc6IFtdCiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIHNldFNlbGVjdGVkOiBmdW5jdGlvbiBzZXRTZWxlY3RlZChzdGF0ZSwgc2VsKSB7CiAgICAgIE9iamVjdC5rZXlzKHNlbC5zZWxlY3RlZFsncGFwZXInXSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgaWYgKHNlbC5maWx0ZXJzWydwYXBlciddW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgc2VsLnNlbGVjdGVkWydwYXBlciddW2tleV0gPSBzZWwuc2VsZWN0ZWRbJ3BhcGVyJ11ba2V5XS5tYXAoZnVuY3Rpb24gKGZpbHRlckl0ZW0pIHsKICAgICAgICAgICAgdmFyIHJ0diA9IC0xOwogICAgICAgICAgICBPYmplY3Qua2V5cyhzZWwuZmlsdGVyc1sncGFwZXInXVtrZXldLmxpc3QpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGlkeCkgewogICAgICAgICAgICAgIGlmIChpdGVtID09IGZpbHRlckl0ZW0pIHsKICAgICAgICAgICAgICAgIHJ0diA9IGlkeDsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcnR2OwogICAgICAgICAgfSk7CiAgICAgICAgICBzZWwuc2VsZWN0ZWRbJ3BhcGVyJ11ba2V5XSA9IHNlbC5zZWxlY3RlZFsncGFwZXInXVtrZXldLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgICByZXR1cm4geCA+PSAwOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlbC5zZWxlY3RlZFsncGFwZXInXVtrZXldID0gW107CiAgICAgICAgfQogICAgICB9KTsKICAgICAgT2JqZWN0LmtleXMoc2VsLnNlbGVjdGVkWydwcm9qZWN0J10pLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIGlmIChzZWwuZmlsdGVyc1sncHJvamVjdCddW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgaWYgKGtleSAhPSAncnNjJyAmJiBrZXkgIT0gJ2Z1bmQnKSB7CiAgICAgICAgICAgIHNlbC5zZWxlY3RlZFsncHJvamVjdCddW2tleV0gPSBzZWwuc2VsZWN0ZWRbJ3Byb2plY3QnXVtrZXldLm1hcChmdW5jdGlvbiAoZmlsdGVySXRlbSkgewogICAgICAgICAgICAgIHZhciBydHYgPSAtMTsKICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzZWwuZmlsdGVyc1sncHJvamVjdCddW2tleV0ubGlzdCkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaWR4KSB7CiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PSBmaWx0ZXJJdGVtKSB7CiAgICAgICAgICAgICAgICAgIHJ0diA9IGlkeDsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHJldHVybiBydHY7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzZWwuc2VsZWN0ZWRbJ3Byb2plY3QnXVtrZXldID0gc2VsLnNlbGVjdGVkWydwcm9qZWN0J11ba2V5XS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICByZXR1cm4geCA+PSAwOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsLnNlbGVjdGVkWydwcm9qZWN0J11ba2V5XSA9IFtdOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHN0YXRlLnNlbGVjdGVkID0gc2VsLnNlbGVjdGVkOwogICAgfSwKICAgIHNldFJhbms6IGZ1bmN0aW9uIHNldFJhbmsoc3RhdGUsIHJhbmspIHsKICAgICAgc3RhdGUucmFua2luc3QgPSByYW5rLkluc3RzOwogICAgfSwKICAgIHNldE50aXM6IGZ1bmN0aW9uIHNldE50aXMoc3RhdGUsIGF1dGhvcl9saXN0KSB7CiAgICAgIHN0YXRlLmFfdXJsID0gYXV0aG9yX2xpc3Q7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICB1cGxvYWRJRkZpbGU6IGZ1bmN0aW9uIHVwbG9hZElGRmlsZShjb250ZXh0LCBkYXRhKSB7CiAgICAgIHBvc3QoY29udGV4dCwgJ3VwbG9hZElGRmlsZScsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoJ3Nob3dTbmFjaycsIHJlc3BvbnNlLmRhdGEgKyAiIOqwnOqwgCDsnoXroKXrkJjsl4jsirXri4jri6QuIik7CiAgICAgIH0pOwogICAgfSwKICAgIGRvd25sb2FkRXhwZXJ0czogZnVuY3Rpb24gZG93bmxvYWRFeHBlcnRzKGNvbnRleHQsIGRhdGEpIHsKICAgICAgZGF0YS5pdGVtc1BlclBhZ2UgPSAtMjsKICAgICAgcmV0dXJuIGdldChjb250ZXh0LCAnZ2V0RXhwZXJ0cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgRG93bmxvYWRKc29uRGF0YShyZXNwb25zZS5kYXRhLCBkYXRhLl9zaXRlICsgIl8iICsgZGF0YS5faWQsIHRydWUsIDIpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRFeHBlcnRQYXBlcnM6IGZ1bmN0aW9uIGdldEV4cGVydFBhcGVycyhjb250ZXh0LCBkYXRhKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdEQVRBJywgZGF0YSk7CiAgICAgIC8vIGxldCBkZCA9IHsKICAgICAgLy8gCWNvbHM6IFt7CiAgICAgIC8vIAkJbmFtZTogIkEiLAogICAgICAvLyAJCWtleTogMAogICAgICAvLyAJfSwgewogICAgICAvLyAJCW5hbWU6ICJCIiwKICAgICAgLy8gCQlrZXk6IDEKICAgICAgLy8gCX0sIHsKICAgICAgLy8gCQluYW1lOiAiQyIsCiAgICAgIC8vIAkJa2V5OiAyCiAgICAgIC8vIAl9XSwKICAgICAgLy8gCWRhdGE6IFsKICAgICAgLy8gCVsiaWQiLCAibmFtZSIsICJ2YWx1ZSJdLAogICAgICAvLyAJWzEsICJzaGVldGpzIiwgNzI2Ml0sCiAgICAgIC8vIAlbMiwgImpzLXhsc3giLCA2OTY5XQogICAgICAvLyBdCiAgICAgIC8vIH07CiAgICAgIC8vIHZhciB3b3Jrc2hlZXQgPSBYTFNYLnV0aWxzLmFvYV90b19zaGVldChkZC5kYXRhKTsKICAgICAgLy8gdmFyIG5ld193b3JrYm9vayA9IFhMU1gudXRpbHMuYm9va19uZXcoKTsKICAgICAgLy8gWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldChuZXdfd29ya2Jvb2ssIHdvcmtzaGVldCwgIlNoZWV0SlMiKTsKICAgICAgLy8gY29uc3Qgd2JvdXQgPSBYTFNYLndyaXRlKG5ld193b3JrYm9vaywgewogICAgICAvLyAJdHlwZTogImJhc2U2NCIsCiAgICAgIC8vIAlib29rVHlwZTogInhsc3giCiAgICAgIC8vIH0pOwogICAgICAvLyBjb25zdCBib2R5ID0gd2JvdXQ7CiAgICAgIC8vIHN0cmVhbS5mZXRjaCh7CiAgICAgIC8vIAltZXRob2Q6ICdHRVQnLAogICAgICAvLyAJdHlwZTogJ2pzb24nLAogICAgICAvLyAJdXJsOiAiaHR0cDovLzIwMy4yNTUuOTIuNDg6ODA4Mi9nZXRFeHBlcnRQYXBlcnMiLAogICAgICAvLyAJYm9keTogYm9keQogICAgICAvLyB9LCBmdW5jdGlvbihyZXMpIHsKICAgICAgLy8gCS8vbW9kYWwudG9hc3QoeyBtZXNzYWdlOiAnS0VZOiAnICsgcmVzLmRhdGEua2V5LCBkdXJhdGlvbjogMTAgfSk7CiAgICAgIC8vCiAgICAgIC8vIAkvLyBzZWxmLnZlcnNpb24gPSByZXMuZGF0YS5rZXkKICAgICAgLy8gfSk7CiAgICAgIHJldHVybiBnZXQoY29udGV4dCwgJ2dldEV4cGVydFBhcGVycycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGZsYWcgPSBkYXRhLnNpdGUgPT09ICdOVElTJyA/IDAgOiAxOwogICAgICAgIGlmIChkYXRhLmZsYWcgPT09IHVuZGVmaW5lZCkgRG93bmxvYWRKc29uRGF0YShyZXNwb25zZS5kYXRhLCBkYXRhLm5hbWUgKyAiXyIgKyBkYXRhLnNpdGUsIHRydWUsIGZsYWcpO2Vsc2UgRG93bmxvYWRKc29uRGF0YShyZXNwb25zZS5kYXRhLCBkYXRhLnNpdGUgKyAiXyIgKyBkYXRhLmtleUlkICsgIl90b3RhbCIsIHRydWUsIDMpOyAvLyBkZC5kYXRhCiAgICAgICAgLy8gCWNvbnN0IHdvcmtib29rID0gbmV3IEV4Y2VsLldvcmtib29rKCk7CiAgICAgICAgLy8gCWNvbnN0IHdvcmtzaGVldCA9IHdvcmtib29rLmFkZFdvcmtzaGVldCgnTXkgU2hlZXQnKTsKICAgICAgICAvLyAJd29ya3NoZWV0LmNvbHVtbnMgPSBbCiAgICAgICAgLy8gCQl7CiAgICAgICAgLy8gCQkJaGVhZGVyOiAnUHJvamVjdE51bWJlcicsCiAgICAgICAgLy8gCQkJa2V5OiAnaWQnLAogICAgICAgIC8vIAkJCXdpZHRoOiAxMAogICAgICAgIC8vIAkJfSwKICAgICAgICAvLyBdOwogICAgICAgIC8vIAlyZXNwb25zZS5kYXRhLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAvLyAJCXdvcmtzaGVldC5hZGRSb3coaXRlbSk7CiAgICAgICAgLy8gCX0pOwogICAgICAgIC8vIAl2YXIgdGVtcEZpbGVQYXRoID0gdGVtcGZpbGUoJy54bHN4Jyk7CiAgICAgICAgLy8gIHdvcmtib29rLnhsc3gud3JpdGVGaWxlKHRlbXBGaWxlUGF0aCkudGhlbihmdW5jdGlvbigpIHsKICAgICAgICAvLyAJCSByZXMuc2VuZEZpbGUodGVtcEZpbGVQYXRoLCBmdW5jdGlvbihlcnIpewogICAgICAgIC8vIAkJIH0pOwogICAgICAgIC8vICB9KTsKICAgICAgICAvLwogICAgICAgIC8vIAkvLyB3b3Jrc2hlZXQuYWRkUm93KHtpZDogMSwgbmFtZTogJ0pvaG4gRG9lJywgZG9iOiBuZXcgRGF0ZSgxOTcwLDEsMSl9KTsKICAgICAgICAvLyAJLy8gd29ya3NoZWV0LmFkZFJvdyh7aWQ6IDIsIG5hbWU6ICdKYW5lIERvZScsIGRvYjogbmV3IERhdGUoMTk2NSwxLDcpfSk7CiAgICAgICAgLy8gCXdvcmtib29rLmNvbW1pdCgpOwogICAgICAgIC8vIAl3b3JrYm9vay54bHN4LndyaXRlRmlsZSgnLi90ZW1wLnhsc3gnKS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgIC8vIAkJLy8gZG9uZQogICAgICAgIC8vIAl9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RXhwZXJ0UmVsYXRpb246IGZ1bmN0aW9uIGdldEV4cGVydFJlbGF0aW9uKGNvbnRleHQsIGRhdGEpIHsKICAgICAgLy8gY29uc3QgewogICAgICAvLyAJX2lkeCwKICAgICAgLy8gCWZsYWcKICAgICAgLy8gfSA9IGRhdGE7CiAgICAgIHJldHVybiBnZXQoY29udGV4dCwgJ2dldEV4cGVydFJlbGF0aW9uJywgZGF0YSk7IC8vIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgLy8gCWNvbnRleHQuY29tbWl0KCdhZGRFeHBlcnRSZWxhdGlvbicsIHsKICAgICAgLy8gCQlkYXRhOiByZXNwb25zZS5kYXRhLAogICAgICAvLyAJCV9pZHgsCiAgICAgIC8vIAkJZmxhZwogICAgICAvLyAJfSkKICAgICAgLy8gfSkKICAgIH0sCiAgICBzZW5kQ3Jhd2xSZXF1ZXN0OiBmdW5jdGlvbiBzZW5kQ3Jhd2xSZXF1ZXN0KGNvbnRleHQsIGRhdGEpIHsKICAgICAgcmV0dXJuIGdldChjb250ZXh0LCAnc2VuZENyYXdsUmVxdWVzdCcsIGRhdGEpOwogICAgfSwKICAgIGdldEV4cGVydHM6IGZ1bmN0aW9uIGdldEV4cGVydHMoY29udGV4dCwgZGF0YSkgewogICAgICAvLyBjb25zb2xlLmxvZygnREFUQScsIGRhdGEpOwogICAgICAvLyBpZiAoZGF0YS5kRmxhZyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIC8vIAlkYXRhLml0ZW1zUGVyUGFnZSA9IC0xOwogICAgICAvLyB9CiAgICAgIC8vIGdldChjb250ZXh0LCAnZ2V0RXhwZXJ0cycsIGRhdGEpCiAgICAgIHJldHVybiBnZXQoY29udGV4dCwgJ2dldEV4cGVydHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIGlmIChkYXRhLl9pZHggIT0gMCkgewogICAgICAgIGlmIChkYXRhLmRGbGFnICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIC8vIHJlc3BvbnNlCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnUkVTUE9OU0UnLCByZXNwb25zZSk7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29udGV4dC5jb21taXQoJ2FkZEV4cGVydHMnLCB7CiAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGEsCiAgICAgICAgICAgIF9pZDogZGF0YS5faWQsCiAgICAgICAgICAgIF9pZHg6IGRhdGFbJ19pZHgnXQogICAgICAgICAgfSk7CiAgICAgICAgfSAvLyB9IGVsc2UgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIC8vIH0KCiAgICAgIH0pOwogICAgfSwKICAgIGdldERldGFpbEhpc3Rvcnk6IGZ1bmN0aW9uIGdldERldGFpbEhpc3RvcnkoY29udGV4dCwgaWQpIHsKICAgICAgZ2V0KGNvbnRleHQsICdnZXREZXRhaWxIaXN0b3J5JywgaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29udGV4dC5jb21taXQoJ2FkZERldGFpbEhpc3RvcnknLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVxdWVzdFNlYXJjaDogZnVuY3Rpb24gcmVxdWVzdFNlYXJjaChjb250ZXh0LCBkYXRhKSB7CiAgICAgIHBvc3QoY29udGV4dCwgJ3JlcXVlc3RTZWFyY2gnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBfcmVzcG9uc2UkZGF0YSA9IHJlc3BvbnNlLmRhdGEsCiAgICAgICAgICAgIGZsYWcgPSBfcmVzcG9uc2UkZGF0YS5mbGFnLAogICAgICAgICAgICByZXN1bHRzID0gX3Jlc3BvbnNlJGRhdGEucmVzdWx0czsKICAgICAgICBpZiAoZmxhZykgY29udGV4dC5jb21taXQoJ2FkZEhpc3RvcnknLCByZXN1bHRzKTtlbHNlIHsKICAgICAgICAgIC8vIGNsb3NlU25hY2soY29udGV4dCk7CiAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2hvd1NuYWNrJywgIktleUlkIDogIiArIHJlc3VsdHMgKyAiIE5vdyBDcmF3bGluZyEiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vZ2V0SGlzdG9yaWVzCiAgICBnZXRIaXN0b3JpZXM6IGZ1bmN0aW9uIGdldEhpc3Rvcmllcyhjb250ZXh0LCBmbGFnKSB7CiAgICAgIC8vdGVzdCBpZCA9IDEKICAgICAgaWYgKGZsYWcgPT09IHVuZGVmaW5lZCAmJiBjb250ZXh0LnN0YXRlLmhpc3Rvcmllcy5sZW5ndGggIT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZ2V0KGNvbnRleHQsICdnZXRIaXN0b3JpZXMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCdSRVNQT05TRScsIHJlc3BvbnNlKTsKICAgICAgICAvLyBpZihyZXNwb25zZS5kYXRhKQogICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRIaXN0b3JpZXMnLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSk7IC8vIGdldChjb250ZXh0LCAnZ2V0SGlzdG9yaWVzJywgewogICAgICAvLyAJCWlkOiAxCiAgICAgIC8vIAl9KQogICAgICAvLyAJLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAvLyAJCWNvbnRleHQuY29tbWl0KCdzZXRIaXN0b3JpZXMnLCByZXNwb25zZS5kYXRhKQogICAgICAvLyAJfSkKICAgIH0sCiAgICBnZXRTaXRlU3RhdHVzOiBmdW5jdGlvbiBnZXRTaXRlU3RhdHVzKGNvbnRleHQpIHsKICAgICAgcmV0dXJuIGdldChjb250ZXh0LCAnZ2V0U2l0ZVN0YXR1cycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoJ3NldFNpdGVzJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFRlc3Q6IGZ1bmN0aW9uIGdldFRlc3QoY29udGV4dCkgewogICAgICBzaG93U25hY2sobXNnLnJlbW92ZSwgY29udGV4dCk7CiAgICB9LAogICAgcmVtb3ZlSGlzdG9yeTogZnVuY3Rpb24gcmVtb3ZlSGlzdG9yeShjb250ZXh0LCBkYXRhKSB7CiAgICAgIHJldHVybiBnZXQoY29udGV4dCwgJ3JlbW92ZUhpc3RvcnknLCBkYXRhKTsKICAgIH0sCiAgICBlZGl0SGlzdG9yeTogZnVuY3Rpb24gZWRpdEhpc3RvcnkoY29udGV4dCwgZGF0YSkgewogICAgICByZXR1cm4gZ2V0KGNvbnRleHQsICdlZGl0SGlzdG9yeScsIGRhdGEpOwogICAgfSwKICAgIGdldEludGVncmF0aW9uRGF0YTogZnVuY3Rpb24gZ2V0SW50ZWdyYXRpb25EYXRhKGNvbnRleHQsIGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coJ0RBVEEnLCBkYXRhKTsKICAgICAgY29udGV4dC5zdGF0ZS5pZ0lEID0gZGF0YS5pZDsKICAgICAgY29udGV4dC5zdGF0ZS5pZ0tleXdvcmQgPSBkYXRhLnF1ZXJ5X2tleXdvcmQ7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRGaWx0ZXJzJywge30pOyAvLyByZXR1cm4gcG9zdChjb250ZXh0LCAnZ2V0SW50ZWdyYXRpb25EYXRhJywgZGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIC8vIAkvLyByZXNwb25zZS5kYXRhCiAgICAgIC8vIAljb25zb2xlLmxvZygnUkVTUE9OU0UuREFUQScsIHJlc3BvbnNlLmRhdGEpOwogICAgICAvLyAJY29udGV4dC5jb21taXQoJ3NldEZpbHRlcnMnLCByZXNwb25zZS5kYXRhKTsKICAgICAgLy8gfSk7CiAgICB9LAogICAgZ2V0SW50ZWdyYXRpb25SZXN1bHQ6IGZ1bmN0aW9uIGdldEludGVncmF0aW9uUmVzdWx0KGNvbnRleHQsIGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coJ0NPTlRFWFQsIERBVEEnLCBjb250ZXh0LCBkYXRhKTsKICAgICAgdmFyIHNpemUgPSAwOwogICAgICBkYXRhLmZJZCA9IC0xOwogICAgICBkYXRhLmZpbHRlciA9IGNvbnRleHQuc3RhdGUuZmlsdGVyczsgLy8gZGF0YS5wcm9qZWN0ID0gY29udGV4dC5zdGF0ZS5zZWxlY3RlZC5wcm9qZWN0OwogICAgICAvLyBkYXRhLnBhcGVyID0gY29udGV4dC5zdGF0ZS5zZWxlY3RlZC5wYXBlcjsKICAgICAgLy8gLy8gbGV0IGRhdGEgPSB7fTsKICAgICAgLy8gbGV0IGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBfZGF0YSk7CiAgICAgIC8vIE9iamVjdC5hc3NpZ24KCiAgICAgIE9iamVjdC5rZXlzKGRhdGEuZmlsdGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBPYmplY3Qua2V5cyhkYXRhLmZpbHRlcltrZXldKS5mb3JFYWNoKGZ1bmN0aW9uIChmZikgewogICAgICAgICAgLy8gY29uc29sZS5sb2coJ0ZJTFRFUicsIGZpbHRlcik7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnS0VZJywga2V5KTsKICAgICAgICAgIC8vIGNvbnRleHQuc3RhdGUuZmlsdGVyc1trZXldW2ZpbHRlcl0KICAgICAgICAgIC8vIC8vIGNvbnNvbGUubG9nKCdDT05URVhULlNUQVRFLkZJTFRFUlNbS0VZXVtGSUxURVJdJywgY29udGV4dC5zdGF0ZS5maWx0ZXJzW2tleV1bZmlsdGVyXSk7CiAgICAgICAgICBpZiAoZmYgPT0gJ3llYXInKSB7CiAgICAgICAgICAgIGRhdGEuZmlsdGVyW2tleV1bZmZdLnNlbGVjdGVkID0gZGF0YS5maWx0ZXJba2V5XVtmZl0uc2VsZWN0ZWQubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0lURU0nLCBpdGVtKTsgLy8gCS8vIGNvbnNvbGUubG9nKCk7CiAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgIC8vIAkvLyBjb250ZXh0LnN0YXRlLmZpbHRlcnNba2V5XVtmaWx0ZXJdWydsaXN0J10KICAgICAgICAgICAgICAvLyAJLy8gY29uc29sZS5sb2coJ0NPTlRFWFQuU1RBVEUuRklMVEVSU1tLRVldW0ZJTFRFUl1bXCdMSVNUXCddJywgKTsKICAgICAgICAgICAgICAvLyAJLy8gY29uc29sZS5sb2coJ0NPTlRFWFQuU1RBVEUuRklMVEVSU1tLRVldW0ZJTFRFUl0uTElTVFtJVEVNXScsIGNvbnRleHQuc3RhdGUuZmlsdGVyc1trZXldW2ZpbHRlcl1bJ2xpc3QnXVtpdGVtXSk7CgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEQVRBLkZJTFRFUltLRVldW0ZGXS5MSVNUW0lURU1dJywgZGF0YS5maWx0ZXJba2V5XVtmZl0ubGlzdCk7CiAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oZGF0YS5maWx0ZXJba2V5XVtmZl0ubGlzdClbaXRlbV1bMF07IC8vIGNvbnRleHQuc3RhdGUuZmlsdGVyc1trZXldW2ZpbHRlcl1bJ2xpc3QnXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ1RUVFRUVFRUVFRUVFRUVFQnLCBkYXRhLmZpbHRlcltrZXldW2ZmXS5zZWxlY3RlZCk7CiAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKCdEQVRBW0tFWV1bRklMVEVSXScsIGRhdGFba2V5XVtmaWx0ZXJdKTsKCgogICAgICAgICAgc2l6ZSArPSBkYXRhLmZpbHRlcltrZXldW2ZmXS5zZWxlY3RlZC5sZW5ndGg7CiAgICAgICAgfSk7CiAgICAgIH0pOyAvLyBkYXRhCgogICAgICBjb25zb2xlLmxvZygnREFUQScsIGRhdGEpOyAvLyBjb25zb2xlLmxvZygnREFUQScsIF9kYXRhKTsKCiAgICAgIGNvbnNvbGUubG9nKCdTSVpFJywgc2l6ZSk7CgogICAgICBpZiAoc2l6ZSA9PSAwKSB7CiAgICAgICAgLy8gaWYgKGNvbnRleHQuc3RhdGUucHJldmZJZCAhPSAwKSB7CiAgICAgICAgLy8gZGF0YS5mSWQgPSBjb250ZXh0LnN0YXRlLnByZXZmSWQ7CiAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICBkYXRhLmZJZCA9IDA7IC8vIH0KICAgICAgfQoKICAgICAgZGF0YS5wcmV2ZklkID0gY29udGV4dC5zdGF0ZS5wcmV2ZklkOyAvLyByZXR1cm47CgogICAgICBjb250ZXh0LnN0YXRlLmhpc3Rvcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uX2lkID09IGRhdGEua2V5SWQpIHsKICAgICAgICAgIGRhdGEuc2l0ZXMgPSBpdGVtLnNpdGVzOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSk7IC8vIC8vZGF0YS5mSWQgPSAxOwoKICAgICAgcmV0dXJuIHBvc3QoY29udGV4dCwgJ2dldEludGVncmF0aW9uUmVzdWx0JywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyByZXNwb25zZS5kYXRhCiAgICAgICAgY29uc29sZS5sb2coJ1JFU1BPTlNFLkRBVEEnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICB2YXIgdGVtcCA9IHt9OwogICAgICAgIHRlbXAucmVzdWx0ID0gcmVzcG9uc2UuZGF0YS5Eb21lc3RpY19yZXM7CiAgICAgICAgdGVtcC5mbGFnID0gMDsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0SW50ZWdyYXRpb25SZXN1bHQnLCB0ZW1wKTsKICAgICAgICB0ZW1wLnJlc3VsdCA9IHJlc3BvbnNlLmRhdGEuSW50ZXJuYXRpb25hbF9yZXM7CiAgICAgICAgdGVtcC5mbGFnID0gMTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0SW50ZWdyYXRpb25SZXN1bHQnLCB0ZW1wKTsKICAgICAgICBjb250ZXh0LnN0YXRlLmlnVG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsRXhwZXJ0czsKICAgICAgICBjb250ZXh0LnN0YXRlLmlnRG9tZXN0aWMgPSByZXNwb25zZS5kYXRhLkRvbWVzdGljRXhwZXJ0czsKICAgICAgICBjb250ZXh0LnN0YXRlLmlnSW50ZXJuYXRpb25hbCA9IHJlc3BvbnNlLmRhdGEuSW50ZXJuYXRpb25hbEV4cGVydHM7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucHJldmZJZCAhPSAwKSBjb250ZXh0LnN0YXRlLnByZXZmSWQgPSByZXNwb25zZS5kYXRhLnByZXZmSWQ7CiAgICAgICAgY29udGV4dC5jb21taXQoJ3NldEZpbHRlcnMnLCByZXNwb25zZS5kYXRhLmZpbHRlcnMpOyAvLyAudGhlbihjb250ZXh0LmNvbW1pdCgnc2V0U2VsZWN0ZWQnLCByZXNwb25zZS5kYXRhKSk7CgogICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRJbnRlZ3JhdGlvblJhdzogZnVuY3Rpb24gZ2V0SW50ZWdyYXRpb25SYXcoY29udGV4dCwgZGF0YSkgewogICAgICByZXR1cm4gcG9zdChjb250ZXh0LCAnZ2V0SW50ZWdyYXRpb25SYXcnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIHJlc3BvbnNlLmRhdGEKICAgICAgICBjb25zb2xlLmxvZygnUkVTUE9OU0UuREFUQScsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIHJlc3BvbnNlLmRhdGEuaWR4ID0gZGF0YS5pZHg7IC8vIHJldHVybiByZXNwb25zZS5kYXRhOwoKICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0SW50ZWdyYXRpb25SYXcnLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlSW50ZWdyYXRpb246IGZ1bmN0aW9uIGRlbGV0ZUludGVncmF0aW9uKGNvbnRleHQsIGtleUlkKSB7CiAgICAgIGdldChjb250ZXh0LCAnZGVsZXRlSW50ZWdyYXRpb24nLCB7CiAgICAgICAgImtleUlkIjoga2V5SWQKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UmVsb2FkUGFnZTogZnVuY3Rpb24gZ2V0UmVsb2FkUGFnZShjb250ZXh0LCBkYXRhKSB7CiAgICAgIHJldHVybiBwb3N0KGNvbnRleHQsICdnZXRSZWxvYWRQYWdlJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyByZXNwb25zZS5kYXRhCiAgICAgICAgcmVzcG9uc2UuZGF0YS5mbGFnID0gZGF0YS5mbGFnOwogICAgICAgIGNvbnNvbGUubG9nKCdSRVNQT05TRS5EQVRBJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29udGV4dC5jb21taXQoJ3NldEludGVncmF0aW9uUmVzdWx0JywgcmVzcG9uc2UuZGF0YSk7IC8vCWNvbnRleHQuY29tbWl0KCdzZXRJbnRlZ3JhdGlvblJhdycsIHJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRJbnN0UmFuazogZnVuY3Rpb24gZ2V0SW5zdFJhbmsoY29udGV4dCwgZGF0YSkgewogICAgICAvL2NvbnNvbGUubG9nKCJzdHJpbmciKTsKICAgICAgcmV0dXJuIGdldChjb250ZXh0LCAnZ2V0SW5zdFJhbmsnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRSYW5rJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2coInNldFJhbmsiLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0TnRpc0FQSTogZnVuY3Rpb24gZ2V0TnRpc0FQSShjb250ZXh0LCBkYXRhKSB7CiAgICAgIHJldHVybiBnZXQoY29udGV4dCwgJ2dldE50aXNBUEknLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXROdGlzJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2coJ3NldE50aXMnLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0c3RvcFBhZ2U6IGZ1bmN0aW9uIGdldHN0b3BQYWdlKGNvbnRleHQsIGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coInN0b3BQYWdlIiwgZGF0YSk7CiAgICAgIGdldChjb250ZXh0LCAnZ2V0c3RvcFBhZ2UnLCBkYXRhKTsgLy8gcmV0dXJuIHBvc3QoY29udGV4dCwgJ2dldEludGVncmF0aW9uRGF0YScsIGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAvLyAJLy8gcmVzcG9uc2UuZGF0YQogICAgICAvLyAJY29uc29sZS5sb2coJ1JFU1BPTlNFLkRBVEEnLCByZXNwb25zZS5kYXRhKTsKICAgICAgLy8gCWNvbnRleHQuY29tbWl0KCdzZXRGaWx0ZXJzJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgIC8vIH0pOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["C:/Users/netdb/Git/expert_test/expert_test/expert_web_test/src/store.js"],"names":["Vue","Vuex","createPersistedState","get","post","XLSX","saveAs","use","sheetNames","DownloadJsonData","JSONData","FileTitle","ShowLabel","Flag","wb","utils","book_new","s2ab","s","buf","ArrayBuffer","length","view","Uint8Array","i","charCodeAt","outData","isLooopable","w","arrayConstructor","constructor","objectConstructor","temp","field","fData","inData","undefined","push","newWorksheet","json_to_sheet","book_append_sheet","fitToColumn","colSize","wch","wbout","write","bookType","type","Blob","msg","timeout","ok","fail","run","showSnack","ctxt","rep","msgp","commit","setLoading","isLoading","store","Store","plugins","storage","window","sessionStorage","state","snack","isShow","isMini","histories","activeTab","activeInnerTab","tabs","sites","integrations","igID","igKeyword","filters","igTotal","igDomestic","igInternational","igRaw","prevfId","rankinst","a_url","mutations","setIsMini","flag","closeTab","id","splice","findIndex","x","_id","closeSnack","message","showalarm","setIsLoading","payload","setHistories","forEach","item","site","addHistory","history","unshift","addDetailHistory","dHistory","idx","h","set","addExperts","experts","data","expert","keyId","_idx","lists","addExpertRelation","rel","tab","nodes","links","concat","asResults","results","sourceAId","targetAId","count","_svgAttrs","setSites","setFilters","Object","keys","filterKey","ff","selected","inst","list","slice","reduce","result","key","replaceAll","journal","year","Map","reverse","console","log","setIntegrationResult","igResult","author","numPapers","rKeywords","network","webSearch","name","numProjects","totalCitation","totalCoop","recentYear","Domestic","International","setIntegrationRaw","deleteSelected","setSelected","sel","map","filterItem","rtv","filter","setRank","rank","Insts","setNtis","author_list","actions","uploadIFFile","context","then","response","downloadExperts","itemsPerPage","_site","getExpertPapers","getExpertRelation","sendCrawlRequest","getExperts","dFlag","getDetailHistory","requestSearch","getHistories","getSiteStatus","getTest","remove","removeHistory","editHistory","getIntegrationData","query_keyword","getIntegrationResult","size","fId","Array","from","Domestic_res","International_res","totalExperts","DomesticExperts","InternationalExperts","getIntegrationRaw","deleteIntegration","getReloadPage","getInstRank","getNtisAPI","getstopPage"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport createPersistedState from 'vuex-persistedstate'\r\nimport {\r\n\tget,\r\n\tpost\r\n} from './apiUtils';\r\n\r\nimport XLSX from 'xlsx'\r\nimport {\r\n\tsaveAs\r\n} from 'file-saver';\r\nVue.use(Vuex)\r\n\r\n// const initWeight = new Array(6).fill(50)\r\nconst sheetNames = ['Projects', 'Papers', 'Experts'];\r\n\r\n//DownloadJsonData(response.data, data.name + \"_\" + data.site, true, flag);\r\nfunction DownloadJsonData(JSONData, FileTitle, ShowLabel, Flag) {\r\n\t// console.log('JSONDATA', JSONData);\r\n\r\n\r\n\t//If JSONData is not an object then JSON.parse will parse the JSON string in an Object\r\n\r\n\r\n\tvar wb = XLSX.utils.book_new();\r\n\t// console.log('WB', wb);\r\n\r\n\tfunction s2ab(s) {\r\n\t\tvar buf = new ArrayBuffer(s.length); //convert s to arrayBuffer\r\n\t\tvar view = new Uint8Array(buf); //create uint8array as viewer\r\n\t\tfor (let i = 0; i < s.length; i++) view[i] = s.charCodeAt(i) & 0xFF; //convert to octet\r\n\t\treturn buf;\r\n\t}\r\n\tlet outData = [];\r\n\r\n\r\n\tfunction isLooopable(w) {\r\n\t\tvar arrayConstructor = [].constructor;\r\n\t\tvar objectConstructor = ({}).constructor;\r\n\t\tif (w !== null) {\r\n\t\t\tif (w.constructor === arrayConstructor) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif (w.constructor === objectConstructor) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\r\n\t// let fieldItems = Object.keys(fields[Flag]);\r\n\tfor (let i = 0; i < JSONData.length; i++) {\r\n\t\tlet temp = {};\r\n\t\t// let j = 0;\r\n\t\tfor (let field in JSONData[i]) {\r\n\t\t\tlet fData = JSONData[i][field];\r\n\t\t\tif (isLooopable(fData)) {\r\n\t\t\t\tlet temp = \"\"\r\n\t\t\t\tfor (let inData in fData)\r\n\t\t\t\t\ttemp += inData + \" : \" + fData[inData];\r\n\t\t\t\tfData = temp;\r\n\t\t\t}\r\n\t\t\t// if (field == 'name' || field == 'inst')\r\n\t\t\t// \tfData = fData.replace(/,/g, \";\");\r\n\t\t\tif (fData === undefined || fData == 'null' || fData == \"\\\"None\\\"\" || fData == null)\r\n\t\t\t\tfData = '-';\r\n\t\t\ttemp[field] = fData;\r\n\t\t\t// row += fData + ',';\r\n\t\t}\r\n\t\toutData.push(temp);\r\n\t}\r\n\tvar newWorksheet = XLSX.utils.json_to_sheet(outData);\r\n\tXLSX.utils.book_append_sheet(wb, newWorksheet, sheetNames[Flag]);\r\n\t//\r\n\t// const worksheet = XLSX.utils.aoa_to_sheet(arrayOfArray);\r\n\tnewWorksheet['!cols'] = fitToColumn(outData);\r\n\r\n\tfunction fitToColumn(outData) {\r\n\t\t// console.log('OUTDATA', outData);\r\n\t\t// get maximum character of each column\r\n\t\tlet colSize = []\r\n\t\tfor (let field in outData[0]) {\r\n\t\t\t// outData[0][field]\r\n\t\t\t// console.log('OUTDATA[0][FIELD]', outData[0][field]);\r\n\t\t\tlet wch = outData[0][field].length;\r\n\t\t\tif (wch == 0 || wch === undefined)\r\n\t\t\t\twch = 20;\r\n\t\t\tif (wch > 100)\r\n\t\t\t\twch = 100;\r\n\r\n\t\t\tcolSize.push({\r\n\t\t\t\t'wch': wch\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn colSize\r\n\r\n\t}\r\n\r\n\r\n\tvar wbout = XLSX.write(wb, {\r\n\t\tbookType: 'xlsx',\r\n\t\ttype: 'binary'\r\n\t});\r\n\tsaveAs(new Blob([s2ab(wbout)], {\r\n\t\ttype: \"application/octet-stream\"\r\n\t}), FileTitle + '.xlsx');\r\n\r\n\r\n\t// let arrData = typeof JSONData != 'object' ? JSON.parse(JSONData) : JSONData;\r\n\t// let CSV = '';\r\n\t// if (ShowLabel) {\r\n\t// \tlet row = \"\";\r\n\t//\r\n\t// \tlet fieldItems = Object.keys(fields[Flag]);\r\n\t// \tfieldItems.forEach((field) => {\r\n\t// \t\trow += fields[Flag][field] + ',';\r\n\t// \t});\r\n\t// \trow = row.slice(0, -1);\r\n\t// \tCSV += row + '\\r\\n';\r\n\t// }\r\n\t// for (var i = 0; i < arrData.length; i++) {\r\n\t// \tlet row = \"\";\r\n\t// \tfor (let field in fields[Flag]) {\r\n\t// \t\tlet fData = arrData[i][field];\r\n\t// \t\tif (field == 'name' || field == 'inst')\r\n\t// \t\t\tfData = fData.replace(/,/g, \";\");\r\n\t// \t\tif (fData === undefined || fData == 'null' || fData == \"\\\"None\\\"\")\r\n\t// \t\t\tfData = '-';\r\n\t// \t\trow += fData + ',';\r\n\t// \t}\r\n\t// \trow.slice(0, row.length - 1);\r\n\t// \tCSV += row + '\\r\\n';\r\n\t// }\r\n\t// if (CSV == '') {\r\n\t// \talert(\"Invalid data\");\r\n\t// \treturn;\r\n\t// }\r\n\t// var filename = FileTitle;\r\n\t// var blob = new Blob([\"\\ufeff\" + CSV], {\r\n\t// \ttype: 'text/csv;charset=utf-8;'\r\n\t// });\r\n\t// if (navigator.msSaveBlob) { // IE 10+\r\n\t// \tnavigator.msSaveBlob(blob, filename);\r\n\t// } else {\r\n\t// \tvar link = document.createElement(\"a\");\r\n\t// \tif (link.download !== undefined) { // feature detection\r\n\t// \t\tvar url = URL.createObjectURL(blob);\r\n\t// \t\tlink.setAttribute(\"href\", url);\r\n\t// \t\tlink.style = \"visibility:hidden\";\r\n\t// \t\tlink.download = filename + \".csv\";\r\n\t// \t\tdocument.body.appendChild(link);\r\n\t// \t\tlink.click();\r\n\t// \t\tdocument.body.removeChild(link);\r\n\t// \t}\r\n\t// }\r\n}\r\n\r\nconst msg = {\r\n\ttimeout: 3000, //3s\r\n\tok: \"정상적인 응답입니다.\",\r\n\t// history_ok: \"검색 목록을 정상적으로 불러왔습니다.\",\r\n\tfail: \"비정상적인 응답입니다.\",\r\n\trun: \"벤치마킹이 시작되었습니다.\"\r\n}\r\n\r\n//snackbar\r\nexport const showSnack = (ctxt, rep, msgp = \"\") => {\r\n\tif (msgp === \"\") {\r\n\t\t// if (rep.status == 200 || rep.status == 204)\r\n\t\t// \tctxt.commit('showSnack', msg.ok)\r\n\t\t// else if (rep.status == 404)\r\n\t\t// \tctxt.commit('showSnack', msg.fail)\r\n\t} else {\r\n\t\tctxt.commit('showSnack', msgp)\r\n\t}\r\n}\r\n\r\n\r\n//loading bar\r\nexport const setLoading = (ctxt, isLoading) => {\r\n\tctxt.commit('setIsLoading', isLoading)\r\n}\r\n\r\n\r\n\r\nexport const store = new Vuex.Store({\r\n\tplugins: [\r\n    createPersistedState({\r\n      storage: window.sessionStorage // store를 session storage 에 유지\r\n    })\r\n  ],\r\n\t// --------------------------------state -------------------------------------------------------------------------------------------------\r\n\tstate: {\r\n\t\tisLoading: false,\r\n\t\tsnack: {\r\n\t\t\tisShow: false,\r\n\t\t\tmsg: \"\"\r\n\t\t},\r\n\t\tisMini: false,\r\n\t\thistories: [],\r\n\t\tactiveTab: null,\r\n\t\tactiveInnerTab: {},\r\n\t\ttabs: [],\r\n\t\tsites: {},\r\n\t\tintegrations: {\"Domestic\" :[],\"International\":[]},\r\n\t\tigID: -1,\r\n\t\tigKeyword: \"\",\r\n\t\tfilters: {\r\n\t\t\t\"project\": {},\r\n\t\t\t\"paper\": {}\r\n\t\t},\r\n\t\tigTotal: 0,\r\n\t\tigDomestic:0,\r\n\t\tigInternational:0,\r\n\t\tigRaw: {},\r\n\t\tprevfId: 0,\r\n\t\trankinst : [],\r\n\t\ta_url : [],\r\n\t\t// selected: {\r\n\t\t// \t\t'inst': [],\r\n\t\t// \t\t'rsc': [],\r\n\t\t// \t\t'fund': [],\r\n\t\t// \t\t'year': []\r\n\t\t// \t},\r\n\t\t// \t'paper': {\r\n\t\t// \t\t'inst': [],\r\n\t\t// \t\t'year': [],\r\n\t\t// \t\t'journal': [],\r\n\t\t// \t\t'lang': []\r\n\t\t// \t},\r\n\t\t// }\r\n\r\n\t},\r\n\t// --------------------------------/state -------------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n\t// --------------------------------mutations -------------------------------------------------------------------------------------------------\r\n\tmutations: {\r\n\r\n\t\tsetIsMini: (state, flag) => {\r\n\t\t\tstate.isMini = flag;\r\n\t\t},\r\n\t\tcloseTab: (state, id) => {\r\n\t\t\tstate.tabs.splice(state.tabs.findIndex(x => x._id == id), 1);\r\n\t\t\t//state.activeInnerTab[dHistory._id] = 0;\r\n\t\t\tif (state.tabs.length > 0)\r\n\t\t\t\tstate.activeTab = state.tabs[0]._id\r\n\t\t\t// if(idx != state.tabs.length){\r\n\t\t\t// \t\tstate.tabs.\r\n\t\t\t// }\r\n\t\t\t//\r\n\t\t\t// if (state.activeTab == idx)\r\n\t\t\t// \tstate.activeTab = state.tabs.length;\r\n\t\t},\r\n\t\t//snackbar\r\n\t\tcloseSnack: (state) => {\r\n\t\t\tstate.snack.isShow = false\r\n\t\t},\r\n\t\tshowSnack: (state, message) => {\r\n\t\t\tstate.snack = {\r\n\t\t\t\tisShow: true,\r\n\t\t\t\t// color: \"cyan darken-2\",\r\n\t\t\t\tmsg: message,\r\n\t\t\t\ttimeout: msg.timeout\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// if (typeof message === 'object') {\r\n\t\t\t// \tlet {\r\n\t\t\t// \t\tmsg,\r\n\t\t\t// \t\tcolor\r\n\t\t\t//\r\n\t\t\t// \t} = message;\r\n\t\t\t// \tstate.snack = {\r\n\t\t\t// \t\tisShow: true,\r\n\t\t\t// \t\tmsg,\r\n\t\t\t// \t\tcolor,\r\n\t\t\t// \t\ttimeout: msg.timeout\r\n\t\t\t// \t};7\r\n\t\t\t// } else {\r\n\t\t\t// \tstate.snack = {\r\n\t\t\t// \t\tisShow: true,\r\n\t\t\t// \t\tcolor: \"cyan darken-2\",\r\n\t\t\t// \t\tmsg: message,\r\n\t\t\t// \t\ttimeout: msg.timeout\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t},\r\n\t\tshowalarm : (state, message) => {\r\n\t\t\tstate.snack = {\r\n\t\t\t\tisShow: true,\r\n\t\t\t\t// color: \"cyan darken-2\",\r\n\t\t\t\tmsg: message,\r\n\t\t\t\ttimeout: msg.timeout\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetIsLoading: (state, payload) => {\r\n\t\t\tstate.isLoading = payload\r\n\t\t},\r\n\t\tsetHistories: (state, histories) => {\r\n\t\t\tif (histories.length > 0) {\r\n\t\t\t\thistories.forEach(item => {\r\n\t\t\t\t\t// console.log(item);\r\n\t\t\t\t\titem.sites.forEach(site => {\r\n\t\t\t\t\t\t// console.log(site);\r\n\t\t\t\t\t\tsite._id = item._id;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tstate.histories = histories;\r\n\t\t\t}\r\n\t\t\t// state.histories.forEach((item) => {\r\n\t\t\t// \tlet total = 0\r\n\t\t\t// \titem.sites.forEach((site, i) => {\r\n\t\t\t// \t\titem[site] = Math.random() * 100\r\n\t\t\t// \t\tif (i != 0) {\r\n\t\t\t// \t\t\ttotal += item[site]\r\n\t\t\t// \t\t}\r\n\t\t\t// \t});\r\n\t\t\t// \titem['ALL'] = total / (item.sites.length - 1);\r\n\t\t\t// });\r\n\r\n\t\t},\r\n\t\taddHistory: (state, history) => {\r\n\r\n\t\t\tstate.histories.unshift(history);\r\n\t\t},\r\n\r\n\t\taddDetailHistory: (state, dHistory) => {\r\n\t\t\tlet idx = state.histories.findIndex(h => h._id === dHistory._id);\r\n\t\t\tVue.set(state.histories, idx, dHistory);\r\n\r\n\t\t\tstate.tabs.push(dHistory);\r\n\t\t\t// state.activeTab = dHistory._id;\r\n\t\t\tstate.activeTab = state.tabs.length - 1;\r\n\t\t\tstate.activeInnerTab[state.tabs.length - 1] = 0;\r\n\r\n\r\n\t\t},\r\n\t\taddExperts: (state, experts) => {\r\n\t\t\texperts.data.forEach((expert) => {\r\n\t\t\t\texpert.keyId = experts._id\r\n\t\t\t});\r\n\r\n\t\t\tlet idx = state.tabs.findIndex(x => x._id == experts._id)\r\n\r\n\t\t\tstate.tabs[idx].sites[experts._idx].lists = experts.data;\r\n\t\t},\r\n\t\taddExpertRelation: (state, rel) => {\r\n\t\t\tlet site = state.tab.sites[rel._idx];\r\n\t\t\tif (rel.flag) {\r\n\t\t\t\t// this.\r\n\t\t\t\tsite.nodes = [];\r\n\t\t\t\tsite.links = [];\r\n\t\t\t}\r\n\t\t\tsite.nodes = site.nodes.concat(rel.data.asResults);\r\n\t\t\trel.data.results.forEach((item) => {\r\n\t\t\t\tsite.links.push({\r\n\t\t\t\t\t\"sid\": item.sourceAId,\r\n\t\t\t\t\t\"tid\": item.targetAId,\r\n\t\t\t\t\t\"name\": item.count,\r\n\t\t\t\t\t_svgAttrs: {\r\n\t\t\t\t\t\t\"stroke-width\": item.count / 2\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetSites: (state, sites) => {\r\n\t\t\tstate.sites = sites;\r\n\t\t},\r\n\t\tsetFilters: (state, filters) => {\r\n\t\t\tdelete filters['_id'];\r\n\t\t\tdelete filters['keyId'];\r\n\t\t\tdelete filters['fId'];\r\n\t\t\tif (Object.keys(filters).length > 0) {\r\n\r\n\r\n\t\t\t\tObject.keys(filters).forEach((filterKey) => {\r\n\t\t\t\t\tObject.keys(filters[filterKey]).forEach(ff => {\r\n\r\n\t\t\t\t\t\tif (filters[filterKey][ff].selected === undefined)\r\n\t\t\t\t\t\t\tfilters[filterKey][ff].selected = [];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (filters[filterKey].inst !== undefined) {\r\n\t\t\t\t\t\tfilters[filterKey].inst.list = Object.keys(filters[filterKey].inst.list).slice(0, 10).reduce((result, key) => {\r\n\t\t\t\t\t\t\t// key = key.replaceAll('^', \".\");\r\n\r\n\t\t\t\t\t\t\tresult[key.replaceAll('^', \".\")] = filters[filterKey].inst.list[key];\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}, {});\r\n\t\t\t\t\t\t// filters[filterKey].inst.forEach((item) => {\r\n\t\t\t\t\t\t// \titem = item\r\n\t\t\t\t\t\t// });\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters[filterKey].journal !== undefined) {\r\n\r\n\t\t\t\t\t\tfilters[filterKey].journal.list = Object.keys(filters[filterKey].journal.list).slice(0, 10).reduce((result, key) => {\r\n\t\t\t\t\t\t\t// key = key.replaceAll('^', \".\");\r\n\t\t\t\t\t\t\tresult[key.replaceAll('^', \".\")] = filters[filterKey].journal.list[key];\r\n\t\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t\t}, {});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filters[filterKey].year !== undefined) {\r\n\r\n\t\t\t\t\t\tlet temp = new Map();\r\n\r\n\t\t\t\t\t\tObject.keys(filters[filterKey].year.list).reverse().forEach((x) => {\r\n\t\t\t\t\t\t\ttemp.set(x, filters[filterKey].year.list[x]);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// let ttemp = {};\r\n\r\n\t\t\t\t\t\tconsole.log('TEMP', temp);\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// rtv.project[f].list = temp;\r\n\t\t\t\t\t\tfilters[filterKey].year.list = temp;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tstate.filters = filters;\r\n\t\t\tconsole.log('FILTERS', filters);\r\n\t\t\tconsole.log('Filters completed')\r\n\t\t},\r\n\t\tsetIntegrationResult: (state, igResult) => {\r\n\r\n\t\t\tigResult.result.forEach((author)=>{\r\n\t\t\t//\td_or_i.forEach((author) => {\r\n\t\t\t\t\tauthor.numPapers += \"건\";\r\n\t\t\t\t\tauthor.rKeywords = '-';\r\n\t\t\t\t\tauthor.network = '-';\r\n\t\t\t\t\tauthor.webSearch = 'https://www.google.com/search?q=' + author.name + \"+\" + author.inst;\r\n\t\t\t\t\tauthor.numProjects += \"건\";\r\n\t\t\t\t\tauthor.totalCitation += \"회\";\r\n\t\t\t\t\tauthor.totalCoop += \"건\";\r\n\t\t\t\t\tif (author.recentYear == '0') {\r\n\t\t\t\t\t\tauthor.recentYear = '-';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tauthor.recentYear += \"년\";\r\n\t\t\t\t\t}\r\n\t\t\t//\t});\r\n\r\n\t\t});\r\n\r\n\t\t//\tvar igs = {'Domestic':[], 'International':[]}\r\n    //   for (let data = 0; data< igResult.result.length; data++) {\r\n    //     //console.log(\"site:\",this.selected[site].site)\r\n    //     if (igResult.result[data].Country == \"Domestic\"){\r\n    //       igs.Domestic.push(igResult.result[data])\r\n    //       }\r\n    //     else{\r\n    //       igs.International.push(igResult.result[data])\r\n\t\t//\r\n    //     }\r\n    // }\r\n\t\tif(igResult.flag == 0)\r\n\t\tstate.integrations.Domestic = igResult.result;\r\n\r\n\t\telse {\r\n\t\tstate.integrations.International = igResult.result;\r\n\t\t}\r\n\r\n\t\t\t//state.integrations = igs;\r\n\t\t\t// state.integrations = igResult.result;\r\n\t\t\tconsole.log('STATE.INTEGRATIONS ', state.integrations);\r\n\r\n\r\n\r\n\t\t},\r\n\r\n\r\n\t\tsetIntegrationRaw: (state, igRaw) => {\r\n\t\t\tstate.igRaw[igRaw.idx] = igRaw;\r\n\t\t\t// state.integrations.forEach((item) => {\r\n\t\t\t// \tif (item.idx == igRaw.idx) {\r\n\t\t\t// \t\titem.raws = igRaw;\r\n\t\t\t// \t\tconsole.log('ITEM.RAWS ', item.raws);\r\n\t\t\t// \t\treturn;\r\n\t\t\t// \t}\r\n\t\t\t// });\r\n\r\n\r\n\t\t},\r\n\t\tdeleteSelected: (state) => {\r\n\t\t\tstate.selected = {\r\n\t\t\t\t'project': {\r\n\t\t\t\t\t'inst': [],\r\n\t\t\t\t\t'rsc': [],\r\n\t\t\t\t\t'fund': [],\r\n\t\t\t\t\t'year': []\r\n\t\t\t\t},\r\n\t\t\t\t'paper': {\r\n\t\t\t\t\t'inst': [],\r\n\t\t\t\t\t'year': [],\r\n\t\t\t\t\t'journal': [],\r\n\t\t\t\t\t'lang': []\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetSelected: (state, sel) => {\r\n\r\n\t\t\tObject.keys(sel.selected['paper']).forEach((key) => {\r\n\r\n\r\n\t\t\t\tif (sel.filters['paper'][key] !== undefined) {\r\n\t\t\t\t\tsel.selected['paper'][key] = sel.selected['paper'][key].map((filterItem) => {\r\n\t\t\t\t\t\tlet rtv = -1;\r\n\r\n\t\t\t\t\t\tObject.keys(sel.filters['paper'][key].list).forEach((item, idx) => {\r\n\t\t\t\t\t\t\tif (item == filterItem) {\r\n\t\t\t\t\t\t\t\trtv = idx;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn rtv;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsel.selected['paper'][key] = sel.selected['paper'][key].filter(x => x >= 0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsel.selected['paper'][key] = [];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tObject.keys(sel.selected['project']).forEach((key) => {\r\n\r\n\t\t\t\tif (sel.filters['project'][key] !== undefined) {\r\n\t\t\t\t\tif (key != 'rsc' && key != 'fund') {\r\n\t\t\t\t\t\tsel.selected['project'][key] = sel.selected['project'][key].map((filterItem) => {\r\n\t\t\t\t\t\t\tlet rtv = -1;\r\n\t\t\t\t\t\t\tObject.keys(sel.filters['project'][key].list).forEach((item, idx) => {\r\n\t\t\t\t\t\t\t\tif (item == filterItem) {\r\n\t\t\t\t\t\t\t\t\trtv = idx;\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn rtv;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsel.selected['project'][key] = sel.selected['project'][key].filter(x => x >= 0);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsel.selected['project'][key] = [];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tstate.selected = sel.selected;\r\n\t\t},\r\n\t\tsetRank: (state, rank) => {\r\n\t\t\tstate.rankinst = rank.Insts;\r\n\t\t},\r\n\t\tsetNtis: (state, author_list) =>{\r\n\t\t\tstate.a_url  = author_list;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tactions: {\r\n\r\n\t\tuploadIFFile: (context, data) => {\r\n\t\t\tpost(context, 'uploadIFFile', data).then(response => {\r\n\t\t\t\tcontext.commit('showSnack', response.data + \" 개가 입력되었습니다.\")\r\n\t\t\t});\r\n\t\t},\r\n\t\tdownloadExperts: (context, data) => {\r\n\t\t\tdata.itemsPerPage = -2;\r\n\t\t\treturn get(context, 'getExperts', data).then(response => {\r\n\t\t\t\tDownloadJsonData(response.data, data._site + \"_\" + data._id, true, 2);\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tgetExpertPapers: (context, data) => {\r\n\t\t\t// console.log('DATA', data);\r\n\t\t\t// let dd = {\r\n\t\t\t// \tcols: [{\r\n\t\t\t// \t\tname: \"A\",\r\n\t\t\t// \t\tkey: 0\r\n\t\t\t// \t}, {\r\n\t\t\t// \t\tname: \"B\",\r\n\t\t\t// \t\tkey: 1\r\n\t\t\t// \t}, {\r\n\t\t\t// \t\tname: \"C\",\r\n\t\t\t// \t\tkey: 2\r\n\t\t\t// \t}],\r\n\t\t\t// \tdata: [\r\n\t\t\t// \t[\"id\", \"name\", \"value\"],\r\n\t\t\t// \t[1, \"sheetjs\", 7262],\r\n\t\t\t// \t[2, \"js-xlsx\", 6969]\r\n\t\t\t// ]\r\n\t\t\t// };\r\n\t\t\t// var worksheet = XLSX.utils.aoa_to_sheet(dd.data);\r\n\t\t\t// var new_workbook = XLSX.utils.book_new();\r\n\t\t\t// XLSX.utils.book_append_sheet(new_workbook, worksheet, \"SheetJS\");\r\n\t\t\t// const wbout = XLSX.write(new_workbook, {\r\n\t\t\t// \ttype: \"base64\",\r\n\t\t\t// \tbookType: \"xlsx\"\r\n\t\t\t// });\r\n\t\t\t// const body = wbout;\r\n\t\t\t// stream.fetch({\r\n\t\t\t// \tmethod: 'GET',\r\n\t\t\t// \ttype: 'json',\r\n\t\t\t// \turl: \"http://203.255.92.48:8082/getExpertPapers\",\r\n\t\t\t// \tbody: body\r\n\t\t\t// }, function(res) {\r\n\t\t\t// \t//modal.toast({ message: 'KEY: ' + res.data.key, duration: 10 });\r\n\t\t\t//\r\n\t\t\t// \t// self.version = res.data.key\r\n\t\t\t// });\r\n\r\n\r\n\t\t\treturn get(context, 'getExpertPapers', data).then(response => {\r\n\t\t\t\tlet flag = data.site === 'NTIS' ? 0 : 1;\r\n\t\t\t\tif (data.flag === undefined)\r\n\t\t\t\t\tDownloadJsonData(response.data, data.name + \"_\" + data.site, true, flag);\r\n\t\t\t\telse\r\n\t\t\t\t\tDownloadJsonData(response.data, data.site + \"_\" + data.keyId + \"_total\", true, 3);\r\n\r\n\r\n\r\n\t\t\t\t// dd.data\r\n\t\t\t\t// \tconst workbook = new Excel.Workbook();\r\n\t\t\t\t// \tconst worksheet = workbook.addWorksheet('My Sheet');\r\n\t\t\t\t// \tworksheet.columns = [\r\n\t\t\t\t// \t\t{\r\n\t\t\t\t// \t\t\theader: 'ProjectNumber',\r\n\t\t\t\t// \t\t\tkey: 'id',\r\n\t\t\t\t// \t\t\twidth: 10\r\n\t\t\t\t// \t\t},\r\n\t\t\t\t// ];\r\n\t\t\t\t// \tresponse.data.forEach((item) => {\r\n\t\t\t\t// \t\tworksheet.addRow(item);\r\n\t\t\t\t// \t});\r\n\t\t\t\t// \tvar tempFilePath = tempfile('.xlsx');\r\n\t\t\t\t//  workbook.xlsx.writeFile(tempFilePath).then(function() {\r\n\t\t\t\t// \t\t res.sendFile(tempFilePath, function(err){\r\n\t\t\t\t// \t\t });\r\n\t\t\t\t//  });\r\n\t\t\t\t//\r\n\t\t\t\t// \t// worksheet.addRow({id: 1, name: 'John Doe', dob: new Date(1970,1,1)});\r\n\t\t\t\t// \t// worksheet.addRow({id: 2, name: 'Jane Doe', dob: new Date(1965,1,7)});\r\n\t\t\t\t// \tworkbook.commit();\r\n\t\t\t\t// \tworkbook.xlsx.writeFile('./temp.xlsx').then(function() {\r\n\t\t\t\t// \t\t// done\r\n\t\t\t\t// \t});\r\n\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetExpertRelation: (context, data) => {\r\n\t\t\t// const {\r\n\t\t\t// \t_idx,\r\n\t\t\t// \tflag\r\n\t\t\t// } = data;\r\n\t\t\treturn get(context, 'getExpertRelation', data);\r\n\t\t\t// .then(response => {\r\n\t\t\t// \tcontext.commit('addExpertRelation', {\r\n\t\t\t// \t\tdata: response.data,\r\n\t\t\t// \t\t_idx,\r\n\t\t\t// \t\tflag\r\n\t\t\t// \t})\r\n\t\t\t// })\r\n\t\t},\r\n\t\tsendCrawlRequest: (context, data) => {\r\n\t\t\treturn get(context, 'sendCrawlRequest', data);\r\n\r\n\r\n\t\t},\r\n\t\tgetExperts: (context, data) => {\r\n\t\t\t// console.log('DATA', data);\r\n\t\t\t// if (data.dFlag !== undefined) {\r\n\t\t\t// \tdata.itemsPerPage = -1;\r\n\t\t\t// }\r\n\t\t\t// get(context, 'getExperts', data)\r\n\t\t\treturn get(context, 'getExperts', data).then(response => {\r\n\t\t\t\t// if (data._idx != 0) {\r\n\t\t\t\tif (data.dFlag !== undefined) {\r\n\t\t\t\t\t// response\r\n\t\t\t\t\t// console.log('RESPONSE', response);\r\n\t\t\t\t\treturn response.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.commit('addExperts', {\r\n\t\t\t\t\t\tdata: response.data,\r\n\t\t\t\t\t\t_id: data._id,\r\n\t\t\t\t\t\t_idx: data['_idx']\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// } else {\r\n\t\t\t\t// console.log(response.data);\r\n\t\t\t\t// }\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tgetDetailHistory: (context, id) => {\r\n\r\n\t\t\tget(context, 'getDetailHistory', id)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconsole.log(response.data)\r\n\t\t\t\t\tcontext.commit('addDetailHistory', response.data);\r\n\r\n\t\t\t\t})\r\n\t\t},\r\n\t\trequestSearch: (context, data) => {\r\n\r\n\t\t\tpost(context, 'requestSearch', data)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tflag,\r\n\t\t\t\t\t\tresults\r\n\t\t\t\t\t} = response.data;\r\n\t\t\t\t\tif (flag)\r\n\t\t\t\t\t\tcontext.commit('addHistory', results);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t// closeSnack(context);\r\n\t\t\t\t\t\tcontext.commit('showSnack', \"KeyId : \" + results + \" Now Crawling!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t//getHistories\r\n\t\tgetHistories: (context, flag) => {\r\n\t\t\t//test id = 1\r\n\r\n\r\n\r\n\t\t\tif (flag === undefined && context.state.histories.length != 0) {\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tget(context, 'getHistories')\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\t// console.log('RESPONSE', response);\r\n\t\t\t\t\t// if(response.data)\r\n\r\n\r\n\t\t\t\t\tcontext.commit('setHistories', response.data);\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t// get(context, 'getHistories', {\r\n\t\t\t// \t\tid: 1\r\n\t\t\t// \t})\r\n\t\t\t// \t.then(response => {\r\n\t\t\t// \t\tcontext.commit('setHistories', response.data)\r\n\t\t\t// \t})\r\n\t\t},\r\n\r\n\t\tgetSiteStatus: context => {\r\n\t\t\treturn get(context, 'getSiteStatus').then(response => {\r\n\t\t\t\tcontext.commit('setSites', response.data);\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetTest: context => {\r\n\t\t\tshowSnack(msg.remove, context)\r\n\t\t},\r\n\t\tremoveHistory: (context, data) => {\r\n\t\t\treturn get(context, 'removeHistory', data);\r\n\t\t},\r\n\t\teditHistory: (context, data) => {\r\n\t\t\treturn get(context, 'editHistory', data);\r\n\t\t},\r\n\t\tgetIntegrationData: (context, data) => {\r\n\t\t\tconsole.log('DATA', data);\r\n\r\n\t\t\tcontext.state.igID = data.id;\r\n\t\t\tcontext.state.igKeyword = data.query_keyword;\r\n\t\t\tcontext.commit('setFilters', {});\r\n\t\t\t// return post(context, 'getIntegrationData', data).then(response => {\r\n\t\t\t// \t// response.data\r\n\t\t\t// \tconsole.log('RESPONSE.DATA', response.data);\r\n\t\t\t// \tcontext.commit('setFilters', response.data);\r\n\t\t\t// });\r\n\t\t},\r\n\t\tgetIntegrationResult: (context, data) => {\r\n\t\t\tconsole.log('CONTEXT, DATA', context, data);\r\n\r\n\t\t\tlet size = 0;\r\n\t\t\tdata.fId = -1;\r\n\t\t\tdata.filter = context.state.filters;\r\n\t\t\t// data.project = context.state.selected.project;\r\n\t\t\t// data.paper = context.state.selected.paper;\r\n\t\t\t// // let data = {};\r\n\r\n\t\t\t// let data = Object.assign({}, _data);\r\n\t\t\t// Object.assign\r\n\t\t\tObject.keys(data.filter).forEach((key) => {\r\n\t\t\t\tObject.keys(data.filter[key]).forEach((ff) => {\r\n\t\t\t\t\t// console.log('FILTER', filter);\r\n\t\t\t\t\t// console.log('KEY', key);\r\n\t\t\t\t\t// context.state.filters[key][filter]\r\n\t\t\t\t\t// // console.log('CONTEXT.STATE.FILTERS[KEY][FILTER]', context.state.filters[key][filter]);\r\n\t\t\t\t\tif (ff == 'year') {\r\n\t\t\t\t\t\tdata.filter[key][ff].selected = data.filter[key][ff].selected.map((item) => {\r\n\t\t\t\t\t\t\tconsole.log('ITEM', item);\r\n\t\t\t\t\t\t\t// \t// console.log();\r\n\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t// \t// context.state.filters[key][filter]['list']\r\n\t\t\t\t\t\t\t// \t// console.log('CONTEXT.STATE.FILTERS[KEY][FILTER][\\'LIST\\']', );\r\n\t\t\t\t\t\t\t// \t// console.log('CONTEXT.STATE.FILTERS[KEY][FILTER].LIST[ITEM]', context.state.filters[key][filter]['list'][item]);\r\n\t\t\t\t\t\t\tconsole.log('DATA.FILTER[KEY][FF].LIST[ITEM]', data.filter[key][ff].list);\r\n\t\t\t\t\t\t\treturn Array.from(data.filter[key][ff].list)[item][0];\r\n\t\t\t\t\t\t\t// context.state.filters[key][filter]['list']\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log('TTTTTTTTTTTTTTTT', data.filter[key][ff].selected);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// console.log('DATA[KEY][FILTER]', data[key][filter]);\r\n\t\t\t\t\tsize += data.filter[key][ff].selected.length;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t// data\r\n\t\t\tconsole.log('DATA', data);\r\n\t\t\t// console.log('DATA', _data);\r\n\t\t\tconsole.log('SIZE', size);\r\n\t\t\tif (size == 0) {\r\n\t\t\t\t// if (context.state.prevfId != 0) {\r\n\t\t\t\t// data.fId = context.state.prevfId;\r\n\t\t\t\t// } else {\r\n\t\t\t\tdata.fId = 0;\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\r\n\t\t\tdata.prevfId = context.state.prevfId;\r\n\t\t\t// return;\r\n\r\n\t\t\tcontext.state.histories.forEach((item) => {\r\n\t\t\t\tif (item._id == data.keyId) {\r\n\t\t\t\t\tdata.sites = item.sites;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// //data.fId = 1;\r\n\t\t\treturn post(context, 'getIntegrationResult', data).then(response => {\r\n\t\t\t\t// response.data\r\n\t\t\t\tconsole.log('RESPONSE.DATA', response.data);\r\n\t\t\t\tlet temp = {};\r\n\t\t\t\ttemp.result =  response.data.Domestic_res;\r\n\t\t\t\ttemp.flag = 0;\r\n\t\t\t\tcontext.commit('setIntegrationResult', temp);\r\n\t\t\t\ttemp.result =  response.data.International_res;\r\n\t\t\t\ttemp.flag = 1;\r\n\t\t\t\tcontext.commit('setIntegrationResult', temp);\r\n\r\n\t\t\t\tcontext.state.igTotal = response.data.totalExperts;\r\n\t\t\t\tcontext.state.igDomestic = response.data.DomesticExperts;\r\n\t\t\t\tcontext.state.igInternational = response.data.InternationalExperts;\r\n\t\t\t\tif (response.data.prevfId != 0)\r\n\t\t\t\t\tcontext.state.prevfId = response.data.prevfId;\r\n\t\t\t\tcontext.commit('setFilters', response.data.filters);\r\n\r\n\t\t\t\t// .then(context.commit('setSelected', response.data));\r\n\r\n\t\t\t\treturn response.data;\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tgetIntegrationRaw: (context, data) => {\r\n\r\n\t\t\treturn post(context, 'getIntegrationRaw', data).then(response => {\r\n\t\t\t\t// response.data\r\n\t\t\t\tconsole.log('RESPONSE.DATA', response.data);\r\n\t\t\t\tresponse.data.idx = data.idx;\r\n\t\t\t\t// return response.data;\r\n\t\t\t\tcontext.commit('setIntegrationRaw', response.data);\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tdeleteIntegration: (context, keyId) => {\r\n\t\t\tget(context, 'deleteIntegration', {\r\n\t\t\t\t\"keyId\": keyId\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetReloadPage: (context, data) => {\r\n\r\n\t\t\treturn post(context, 'getReloadPage', data).then(response => {\r\n\t\t\t\t// response.data\r\n\t\t\t\tresponse.data.flag = data.flag;\r\n\t\t\t\tconsole.log('RESPONSE.DATA', response.data);\r\n\t\t\t\tcontext.commit('setIntegrationResult', response.data);\r\n\t\t\t\t//\tcontext.commit('setIntegrationRaw', response.data);\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tgetInstRank: (context, data) =>{\r\n\t\t\t//console.log(\"string\");\r\n\t\t\treturn get(context, 'getInstRank', data).then(response =>{\r\n\t\t\t\tcontext.commit('setRank', response.data);\r\n\t\t\t\tconsole.log(\"setRank\",response.data);\r\n\t\t\t}) ;\r\n\t\t},\r\n\t\tgetNtisAPI: (context, data) =>{\r\n\t\t\treturn get(context, 'getNtisAPI', data).then(response =>{\r\n\t\t\t\tcontext.commit('setNtis', response.data);\r\n\t\t\t\tconsole.log('setNtis',response.data)\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetstopPage: (context, data) => {\r\n\t\t\tconsole.log(\"stopPage\",data)\r\n\t\t\tget(context, 'getstopPage', data);\r\n\r\n\t\t\t// return post(context, 'getIntegrationData', data).then(response => {\r\n\t\t\t// \t// response.data\r\n\t\t\t// \tconsole.log('RESPONSE.DATA', response.data);\r\n\t\t\t// \tcontext.commit('setFilters', response.data);\r\n\t\t\t// });\r\n\t\t},\r\n\r\n\t\t}\r\n\r\n\t});\r\n"]}]}